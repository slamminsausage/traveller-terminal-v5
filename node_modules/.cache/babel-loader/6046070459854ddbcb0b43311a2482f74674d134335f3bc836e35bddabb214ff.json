{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\James\\\\Desktop\\\\traveller-terminal-v5\\\\src\\\\components\\\\TravellerTerminal.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Card, CardContent } from \"../ui/Card\";\nimport { Input } from \"../ui/Input\";\nimport { Button } from \"../ui/Button\";\nimport { motion } from \"framer-motion\";\nimport { useNavigate } from \"react-router-dom\";\n\n// Network Map Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NetworkMap = ({\n  accessedTerminals,\n  activeTerminal,\n  onTerminalSelect\n}) => {\n  if (accessedTerminals.length === 0) return null;\n  const getTerminalStatus = terminalId => {\n    const terminal = terminals[terminalId];\n    if (!terminal) return 'offline';\n    if (terminal.requiresPassword) return 'encrypted';\n    if (['blacksite-es1', 'sayelle-logs', 'vennik-personal'].includes(terminalId)) return 'corrupted';\n    if (terminal.requiresRoll && terminal.requiresRoll >= 10) return 'secure';\n    return 'active';\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'active':\n        return '#33ff33';\n      case 'corrupted':\n        return '#ff3333';\n      case 'encrypted':\n        return '#ffaa00';\n      case 'secure':\n        return '#3366ff';\n      default:\n        return '#666666';\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.div, {\n    initial: {\n      opacity: 0,\n      y: -20\n    },\n    animate: {\n      opacity: 1,\n      y: 0\n    },\n    className: \"network-map mb-4 p-3 border border-green-400 rounded bg-black bg-opacity-80\",\n    style: {\n      fontSize: '10px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-green-400 font-mono mb-2 text-xs\",\n      children: \"NETWORK MAP\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 sm:grid-cols-3 gap-2\",\n      children: accessedTerminals.map((terminalId, index) => {\n        const status = getTerminalStatus(terminalId);\n        const isActive = activeTerminal === null || activeTerminal === void 0 ? void 0 : activeTerminal.logs.includes(terminalId);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `network-node cursor-pointer p-1 rounded border text-center transition-all hover:bg-opacity-20 hover:bg-green-400 ${isActive ? 'bg-green-400 bg-opacity-20 border-green-400' : 'border-gray-600'}`,\n          style: {\n            color: getStatusColor(status),\n            borderColor: getStatusColor(status),\n            fontSize: '9px'\n          },\n          onClick: () => onTerminalSelect(terminalId),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-mono\",\n            children: terminalId.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs opacity-80\",\n            children: [status === 'corrupted' && '[UNSTABLE]', status === 'encrypted' && '[ENCRYPTED]', status === 'secure' && '[SECURE]', status === 'active' && '[ONLINE]', status === 'offline' && '[OFFLINE]']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this)]\n        }, terminalId, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this), accessedTerminals.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 text-xs text-green-400 opacity-70\",\n      children: \"Click any terminal to reconnect\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n\n// Character set for corruption effects\n_c = NetworkMap;\nconst corruptionCharacters = \"!@#$%^&*()_+-=[]{}|;:,./<>?`~¡™£¢∞§¶•ªº–≠\";\n\n// Apply text corruption for glitch effects\nconst applyTextCorruption = (text, corruptionLevel = 0.02, isEclipseShard = false) => {\n  if (!text) return \"\";\n  const lines = text.split('\\n');\n  const corruptedLines = lines.map(line => {\n    if (line.trim() === '') return line;\n    let corruptedLine = '';\n    for (let i = 0; i < line.length; i++) {\n      if (isEclipseShard && (line.includes(\"SHARD\") || line.includes(\"Eclipse\") || line.includes(\"Trevar\")) && Math.random() < 0.2) {\n        if (Math.random() < 0.4) {\n          corruptedLine += corruptionCharacters.charAt(Math.floor(Math.random() * corruptionCharacters.length));\n          continue;\n        }\n      }\n      if (Math.random() < corruptionLevel) {\n        corruptedLine += corruptionCharacters.charAt(Math.floor(Math.random() * corruptionCharacters.length));\n      } else {\n        corruptedLine += line[i];\n      }\n    }\n    return corruptedLine;\n  });\n  return corruptedLines.join('\\n');\n};\n\n// Get terminal visual effects based on type\nconst getTerminalEffectClasses = terminalId => {\n  if (!terminalId) return \"terminal terminal-flicker\";\n  const terminalName = terminalId.includes(\"/\") ? terminalId.replace(\"/logs/\", \"\").replace(\".json\", \"\") : terminalId;\n  const damagedTerminals = [\"blacksite-es1\", \"sayelle-logs\", \"vennik-personal\"];\n  const minorGlitchTerminals = [\"fuwnet\", \"vanagandr001\", \"fuw01\", \"blacktalon\"];\n  if (damagedTerminals.includes(terminalName)) {\n    return \"terminal terminal-severe-flicker terminal-scanlines\";\n  } else if (minorGlitchTerminals.includes(terminalName)) {\n    return \"terminal terminal-flicker terminal-scanlines\";\n  }\n  return \"terminal terminal-flicker\";\n};\n\n// Check if content should be corrupted\nconst shouldCorruptContent = (content, terminalId) => {\n  if (!content || !terminalId) return false;\n  const terminalName = terminalId.includes(\"/\") ? terminalId.replace(\"/logs/\", \"\").replace(\".json\", \"\") : terminalId;\n  const corruptTerminals = [\"blacksite-es1\", \"vennik-personal\", \"sayelle-logs\", \"blacktalon\"];\n  return corruptTerminals.includes(terminalName) || content.includes(\"Eclipse Shard\") || content.includes(\"ES1\") || content.includes(\"Trevar\");\n};\n\n// Get corruption parameters\nconst getCorruptionParams = (content, terminalId) => {\n  if (!content || !terminalId) return {\n    level: 0,\n    isEclipseShard: false\n  };\n  const terminalName = terminalId.includes(\"/\") ? terminalId.replace(\"/logs/\", \"\").replace(\".json\", \"\") : terminalId;\n  const isEclipseContent = content.includes(\"Eclipse Shard\") || content.includes(\"ES1\") || terminalName === \"blacksite-es1\";\n  if (isEclipseContent) return {\n    level: 0.03,\n    isEclipseShard: true\n  };\n  if (terminalName.includes(\"blacksite\")) return {\n    level: 0.02,\n    isEclipseShard: false\n  };\n  if (terminalName.includes(\"sayelle\")) return {\n    level: 0.015,\n    isEclipseShard: false\n  };\n  return {\n    level: 0.01,\n    isEclipseShard: false\n  };\n};\n\n// Terminal definitions\nconst terminals = {\n  \"lysani01\": {\n    requiresRoll: 8,\n    logs: \"/logs/lysani01.json\"\n  },\n  \"s.elara01\": {\n    requiresRoll: false,\n    logs: \"/logs/s.elara01.json\"\n  },\n  \"slocombe875\": {\n    requiresRoll: 8,\n    logs: \"/logs/slocombe875.json\"\n  },\n  \"waferterm01\": {\n    requiresRoll: false,\n    logs: \"/logs/waferterm01.json\"\n  },\n  \"labpc81\": {\n    requiresRoll: 6,\n    logs: \"/logs/labpc81.json\"\n  },\n  \"vanagandr001\": {\n    requiresRoll: 8,\n    logs: \"/logs/vanagandr001.json\"\n  },\n  \"blackcircuit01\": {\n    requiresRoll: 8,\n    logs: \"/logs/blackcircuit01.json\"\n  },\n  \"fuw01\": {\n    requiresRoll: 8,\n    logs: \"/logs/fuw01.json\"\n  },\n  \"azura01\": {\n    requiresRoll: 10,\n    logs: \"/logs/azura01.json\"\n  },\n  \"vennik01\": {\n    requiresRoll: 12,\n    logs: \"/logs/vennik01.json\",\n    requiresPassword: true,\n    password: \"vennik4ever\"\n  },\n  \"caldonis_public\": {\n    requiresRoll: false,\n    logs: \"/logs/caldonis_public.json\"\n  },\n  \"blacksite-es1\": {\n    requiresRoll: 10,\n    logs: \"/logs/blacksite-es1.json\"\n  },\n  \"blacktalon\": {\n    requiresRoll: 12,\n    logs: \"/logs/blacktalon.json\"\n  },\n  \"vennik-personal\": {\n    requiresRoll: 10,\n    logs: \"/logs/vennik-personal.json\"\n  },\n  \"sayelle-logs\": {\n    requiresRoll: 8,\n    logs: \"/logs/sayelle-logs.json\"\n  },\n  \"fuwnet\": {\n    requiresRoll: 8,\n    logs: \"/logs/fuw-network.json\"\n  },\n  \"01-1485-10-4-89-40\": {\n    requiresRoll: false,\n    logs: \"/logs/01-1485-10-4-89-40.json\"\n  }\n};\n\n// Typing effect\nconst typeText = (text, setState, callback = null, index = 0, delay = 30) => {\n  if (index < text.length) {\n    setState(prev => prev + text[index]);\n    setTimeout(() => typeText(text, setState, callback, index + 1, delay), delay);\n  } else {\n    if (callback) callback();\n  }\n};\nexport default function TravellerTerminal() {\n  _s();\n  const navigate = useNavigate();\n  const hasInitialized = useRef(false);\n  const typingRef = useRef(null);\n  const terminalRef = useRef(null);\n\n  // Core state\n  const [initText, setInitText] = useState(\"\");\n  const [initComplete, setInitComplete] = useState(false);\n  const [currentView, setCurrentView] = useState(\"init\");\n  const [inputCode, setInputCode] = useState(\"\");\n  const [terminalData, setTerminalData] = useState(\"\");\n\n  // Network tracking state\n  const [accessedTerminals, setAccessedTerminals] = useState([]);\n\n  // Terminal state\n  const [activeTerminal, setActiveTerminal] = useState(null);\n  const [logData, setLogData] = useState(null);\n  const [selectedLogData, setSelectedLogData] = useState(null);\n  const [displayedText, setDisplayedText] = useState(\"\");\n  const [logTypingComplete, setLogTypingComplete] = useState(false);\n\n  // Security state\n  const [rollCheck, setRollCheck] = useState(null);\n  const [specialRollCheck, setSpecialRollCheck] = useState(null);\n  const [requiresPassword, setRequiresPassword] = useState(false);\n  const [passwordInput, setPasswordInput] = useState(\"\");\n  const [passwordAttempts, setPasswordAttempts] = useState(0);\n  const [terminalPasswordRequired, setTerminalPasswordRequired] = useState(false);\n  const [terminalPasswordInput, setTerminalPasswordInput] = useState(\"\");\n  const [terminalPasswordAttempts, setTerminalPasswordAttempts] = useState(0);\n\n  // Visual effects state\n  const [severeMalfunction, setSevereMalfunction] = useState(false);\n  const [glitchText, setGlitchText] = useState(\"\");\n\n  // Command mode state - FIXED\n  const [commandMode, setCommandMode] = useState(false);\n  const [commandHistory, setCommandHistory] = useState([]);\n  const [historyIndex, setHistoryIndex] = useState(-1);\n  const [commandOutput, setCommandOutput] = useState([]);\n\n  // Audio logs state\n  const [showAudioLogsPage, setShowAudioLogsPage] = useState(false);\n  const [audioLogsData, setAudioLogsData] = useState([]);\n\n  // Terminal commands definition\n  const terminalCommands = {\n    help: {\n      description: \"Display available commands\",\n      execute: () => {\n        const helpText = Object.entries(terminalCommands).map(([cmd, info]) => `${cmd.padEnd(15)} - ${info.description}`).join('\\n');\n        return `Available commands:\\n\\n${helpText}\\n\\nType 'exit' to return to normal mode.`;\n      }\n    },\n    scan: {\n      description: \"Scan for nearby terminals\",\n      execute: () => {\n        const availableTerminals = Object.keys(terminals);\n        const scanResults = availableTerminals.map((t, i) => {\n          const corrupted = ['blacksite-es1', 'sayelle-logs', 'vennik-personal'].includes(t);\n          const encrypted = terminals[t].requiresPassword;\n          const accessed = accessedTerminals.includes(t);\n          const status = corrupted ? '[CORRUPTED]' : encrypted ? '[ENCRYPTED]' : accessed ? '[ACCESSED]' : '[ONLINE]';\n          return `${i + 1}. ${t.padEnd(20)} ${status}`;\n        }).join('\\n');\n        return `Scanning local network...\\n\\n${scanResults}\\n\\nUse 'connect [terminal_name]' to establish connection.`;\n      }\n    },\n    trace: {\n      description: \"Trace signal origin\",\n      execute: () => {\n        const traces = [\"Tracing signal path...\", \"Hop 1: Eternium Starport Relay [OK]\", \"Hop 2: Caldonis Central Hub [OK]\", \"Hop 3: ████████████ [ENCRYPTED]\", \"Hop 4: Blacksite ES1 [CONNECTION LOST]\", \"\", \"WARNING: Trace detected by remote system\", \"ALERT: Counter-trace initiated\"];\n        return traces.join('\\n');\n      }\n    },\n    decrypt: {\n      description: \"Attempt to decrypt corrupted data\",\n      execute: () => {\n        if (selectedLogData && activeTerminal) {\n          const chance = Math.random();\n          if (chance > 0.7) {\n            return \"Decryption successful! Corruption reduced by 15%.\\nRe-displaying content with improved clarity...\";\n          } else if (chance > 0.3) {\n            return \"Partial decryption achieved. Some data recovered.\\nCorruption reduced by 5%.\";\n          } else {\n            return \"Decryption failed. Data integrity compromised.\\nWARNING: Security countermeasures detected.\";\n          }\n        }\n        return \"No encrypted data in current buffer.\";\n      }\n    },\n    ping: {\n      description: \"Check connection stability\",\n      execute: () => {\n        const latency = Math.floor(Math.random() * 200) + 50;\n        const packetLoss = Math.floor(Math.random() * 15);\n        const jitter = Math.floor(Math.random() * 30);\n        return `Connection diagnostics:\n        \nLatency: ${latency}ms\nPacket Loss: ${packetLoss}%\nJitter: ${jitter}ms\nSignal Strength: ${100 - packetLoss}%\n        \n${packetLoss > 10 ? 'WARNING: Connection unstable' : 'Connection stable'}`;\n      }\n    },\n    whoami: {\n      description: \"Display current user info\",\n      execute: () => {\n        return `Current User: GUEST_${Math.floor(Math.random() * 9999).toString().padStart(4, '0')}\nAccess Level: RESTRICTED\nSession Started: ${new Date().toLocaleTimeString()}\nOrigin: Eternium Starport\nTerminal: ${activeTerminal ? activeTerminal.logs.replace('/logs/', '').replace('.json', '') : 'NONE'}`;\n      }\n    },\n    clear: {\n      description: \"Clear terminal screen\",\n      execute: () => {\n        setCommandOutput([]);\n        return null;\n      }\n    },\n    ls: {\n      description: \"List available files\",\n      execute: () => {\n        if (logData) {\n          const files = logData.map((log, i) => {\n            const locked = log.requires_roll ? `[LOCKED:${log.roll_check.difficulty}+]` : '';\n            const password = log.requires_password ? '[PASSWORD]' : '';\n            return `${i.toString().padStart(2, '0')}. ${log.title.padEnd(40)} ${locked}${password}`;\n          }).join('\\n');\n          return `Directory listing:\\n\\n${files}\\n\\nUse 'cat [number]' to view file contents.`;\n        }\n        return \"No files in current directory. Use 'scan' to find terminals.\";\n      }\n    },\n    cat: {\n      description: \"Display file contents\",\n      execute: args => {\n        if (!args || args.length === 0) {\n          return \"Usage: cat [file_number]\";\n        }\n        const fileIndex = parseInt(args[0]);\n        if (logData && fileIndex >= 0 && fileIndex < logData.length) {\n          handleLogClick(logData[fileIndex]);\n          return `Loading file: ${logData[fileIndex].title}...`;\n        }\n        return `Error: File not found. Use 'ls' to list available files.`;\n      }\n    },\n    connect: {\n      description: \"Connect to a terminal\",\n      execute: args => {\n        if (!args || args.length === 0) {\n          return \"Usage: connect [terminal_name]\";\n        }\n        const terminalName = args.join(' ').toLowerCase();\n        if (terminals[terminalName]) {\n          // Add to accessed terminals if not already there\n          if (!accessedTerminals.includes(terminalName)) {\n            setAccessedTerminals(prev => [...prev, terminalName]);\n          }\n          setInputCode(terminalName);\n          // Use setTimeout to ensure state updates\n          setTimeout(() => {\n            handleAccessCode(terminalName);\n          }, 100);\n          return `Attempting connection to ${terminalName}...`;\n        }\n        return `Error: Terminal '${terminalName}' not found. Use 'scan' to list available terminals.`;\n      }\n    },\n    network: {\n      description: \"Show network map\",\n      execute: () => {\n        if (accessedTerminals.length === 0) {\n          return \"No terminals accessed yet. Use 'scan' to find available terminals.\";\n        }\n        return `Network Map:\\n\\n${accessedTerminals.map(t => `• ${t.toUpperCase()}`).join('\\n')}\\n\\nUse 'connect [terminal]' to reconnect.`;\n      }\n    }\n  };\n\n  // Hidden/Easter egg commands\n  const hiddenCommands = {\n    riftjaw: () => {\n      setSevereMalfunction(true);\n      setTimeout(() => setSevereMalfunction(false), 3000);\n      return \"WARNING: UNAUTHORIZED ACCESS ATTEMPT DETECTED\\n\\nᚱᛁᚠᛏᛃᚨᚹ ᛊᛏᛁᚱᛊ ᛒᛖᚾᛖᚨᚦ\\n\\nSYSTEM LOCKDOWN INITIATED\";\n    },\n    eclipse: () => {\n      const glitchText = \"QUANTUM FLUCTUATION DETECTED IN LOCAL SPACETIME\\n\\n\" + \"Reality anchor holding at \" + (Math.random() * 30 + 70).toFixed(1) + \"%\\n\" + \"Dimensional barriers: UNSTABLE\\n\" + \"Eclipse Shard resonance detected: \" + (Math.random() * 1000).toFixed(0) + \" Hz\\n\\n\" + \"ERROR: Cannot triangulate signal source\";\n      return applyTextCorruption(glitchText, 0.1, true);\n    },\n    trevar: () => {\n      return \"SUBJECT FILE CLASSIFIED - OMEGA CLEARANCE REQUIRED\\n\\n\" + \"Last known status: CONTAINED\\n\" + \"Location: [REDACTED]\\n\" + \"Neural synchronization: 87%\\n\" + \"Warning: Subject demonstrates Class-IV psionic manifestations\";\n    },\n    vanagandr: () => {\n      return \"VESSEL REGISTRY: VANAGANDR\\n\" + \"Class: Type-S Scout/Courier (Modified)\\n\" + \"Status: IMPOUNDED - PENDING AUCTION\\n\" + \"Special Modifications: CLASSIFIED\\n\" + \"Warning: Ship systems contain encrypted data\\n\" + \"Warning: Potential biohazard in cargo hold\";\n    }\n  };\n\n  // Initialize terminal\n  useEffect(() => {\n    if (hasInitialized.current) return;\n    hasInitialized.current = true;\n    const loadingMessages = [\"Initializing system...\", \"Connecting to network...\", \"Loading secure protocols...\", \"The Traveller Terminal is now online.\"];\n    let i = 0;\n    const displayNextMessage = () => {\n      if (i < loadingMessages.length) {\n        typeText(loadingMessages[i] + \"\\n\", setInitText, () => {\n          setInitText(prev => prev + \"\\n\");\n          i++;\n          displayNextMessage();\n        }, 0, 50);\n      } else {\n        const welcomeMessage = \"\\nWelcome to The Traveller Terminal.\\n\" + \"Type the name of a terminal to access its contents.\\n\" + \"Press ESC at any time to go back.\\n\" + \"Type 'help' in command mode for advanced options.\\n\\n\";\n        typeText(welcomeMessage, setInitText, () => {\n          setInitComplete(true);\n        }, 0, 50);\n      }\n    };\n    displayNextMessage();\n  }, []);\n\n  // Auto-scroll terminal\n  useEffect(() => {\n    if (terminalRef.current) {\n      terminalRef.current.scrollTop = terminalRef.current.scrollHeight;\n    }\n  }, [displayedText, terminalData, logTypingComplete, currentView, commandOutput]);\n\n  // Command processing - FIXED\n  const processCommand = input => {\n    if (!input.trim()) return;\n    const parts = input.trim().toLowerCase().split(' ');\n    const command = parts[0];\n    const args = parts.slice(1);\n\n    // Add to history\n    setCommandHistory(prev => [...prev, input]);\n    setHistoryIndex(-1);\n    if (command === 'exit') {\n      setCommandMode(false);\n      setCommandOutput([]);\n      return;\n    }\n    let output = null;\n    if (terminalCommands[command]) {\n      output = terminalCommands[command].execute(args);\n    } else if (hiddenCommands[command]) {\n      output = hiddenCommands[command]();\n    } else {\n      output = `Command not recognized: '${command}'. Type 'help' for available commands.`;\n    }\n    if (output !== null) {\n      setCommandOutput(prev => [...prev, {\n        command: input,\n        output\n      }]);\n    }\n  };\n\n  // FIXED Command input handler\n  const handleCommandInput = e => {\n    if (e.key === 'Enter') {\n      e.preventDefault();\n      processCommand(inputCode);\n      setInputCode('');\n    } else if (e.key === 'ArrowUp') {\n      e.preventDefault();\n      if (commandHistory.length > 0 && historyIndex < commandHistory.length - 1) {\n        const newIndex = historyIndex + 1;\n        setHistoryIndex(newIndex);\n        setInputCode(commandHistory[commandHistory.length - 1 - newIndex]);\n      }\n    } else if (e.key === 'ArrowDown') {\n      e.preventDefault();\n      if (historyIndex > 0) {\n        const newIndex = historyIndex - 1;\n        setHistoryIndex(newIndex);\n        setInputCode(commandHistory[commandHistory.length - 1 - newIndex]);\n      } else if (historyIndex === 0) {\n        setHistoryIndex(-1);\n        setInputCode('');\n      }\n    }\n  };\n\n  // Keyboard shortcuts\n  useEffect(() => {\n    const handleKeyDown = e => {\n      // Only handle ESC and Enter when not in input fields\n      if (e.target.tagName === 'INPUT') return;\n      if (e.key === \"Escape\") {\n        if (currentView === \"log\" && !logTypingComplete) {\n          setLogTypingComplete(true);\n          if (typingRef.current) {\n            clearTimeout(typingRef.current);\n          }\n          if (selectedLogData) {\n            let fullText = `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\n            if (activeTerminal && shouldCorruptContent(fullText, activeTerminal.logs)) {\n              const {\n                level,\n                isEclipseShard\n              } = getCorruptionParams(fullText, activeTerminal.logs);\n              fullText = applyTextCorruption(fullText, level, isEclipseShard);\n            }\n            setDisplayedText(fullText);\n          }\n        } else if (currentView === \"log\") {\n          handleBackToTerminal();\n        } else if (currentView === \"terminal\") {\n          handleBackToInit();\n        }\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [currentView, logTypingComplete, selectedLogData, activeTerminal]);\n\n  // Random glitch effects\n  useEffect(() => {\n    if (!activeTerminal || !selectedLogData) return;\n    const terminalName = activeTerminal.logs.replace(\"/logs/\", \"\").replace(\".json\", \"\");\n    const glitchEnabledTerminals = [\"blacksite-es1\", \"vennik-personal\", \"fuwnet\", \"sayelle-logs\", \"blacktalon\"];\n    if (glitchEnabledTerminals.includes(terminalName)) {\n      const randomGlitch = () => {\n        if (Math.random() < 0.05) {\n          setSevereMalfunction(true);\n          const glitchMessages = [\"WARNING: SIGNAL INTEGRITY FAILING\", \"CRC ERROR DETECTED IN DATA STREAM\", \"QUANTUM FLUCTUATION DETECTED\", \"TEMPORAL ANOMALY IN DATA BUFFER\", \"WARNING: REALITY ANCHOR DESTABILIZING\", \"SECURITY BREACH ATTEMPT DETECTED\"];\n          setGlitchText(glitchMessages[Math.floor(Math.random() * glitchMessages.length)]);\n          setTimeout(() => {\n            setSevereMalfunction(false);\n            setGlitchText(\"\");\n          }, 1500);\n        }\n      };\n      const glitchInterval = setInterval(randomGlitch, 10000);\n      return () => clearInterval(glitchInterval);\n    }\n  }, [selectedLogData, activeTerminal]);\n\n  // Terminal access handler - ENHANCED\n  const handleAccessCode = (terminalName = null) => {\n    const codeToCheck = terminalName || inputCode;\n    if (codeToCheck.trim().toLowerCase() === \"poop\") {\n      navigate(\"/poop\");\n      return;\n    }\n    if (codeToCheck.trim() === \"01-1485-10-4-89-40\") {\n      navigate(\"/riftjaw\");\n      return;\n    }\n    const terminal = terminals[codeToCheck];\n    if (terminal) {\n      // Add to accessed terminals\n      if (!accessedTerminals.includes(codeToCheck)) {\n        setAccessedTerminals(prev => [...prev, codeToCheck]);\n      }\n      setActiveTerminal(terminal);\n      setCurrentView(\"terminal\");\n      if (terminal.requiresPassword) {\n        setTerminalPasswordRequired(true);\n      } else if (terminal.requiresRoll) {\n        setRollCheck({\n          difficulty: terminal.requiresRoll\n        });\n      } else {\n        fetchLogs(terminal.logs);\n      }\n    } else {\n      typeText(\"ACCESS DENIED. INVALID CODE.\", setTerminalData);\n    }\n    if (!terminalName) setInputCode(\"\");\n  };\n\n  // Network terminal selection handler\n  const handleNetworkTerminalSelect = terminalId => {\n    setInputCode(terminalId);\n    handleAccessCode(terminalId);\n  };\n\n  // Terminal password handler\n  const handleTerminalPasswordSubmit = () => {\n    if (activeTerminal && terminalPasswordInput === activeTerminal.password) {\n      setTerminalPasswordRequired(false);\n      fetchLogs(activeTerminal.logs);\n    } else {\n      const attempts = terminalPasswordAttempts + 1;\n      setTerminalPasswordAttempts(attempts);\n      setTerminalPasswordInput(\"\");\n      if (attempts >= 3) {\n        setTerminalPasswordRequired(false);\n        if (activeTerminal && activeTerminal.requiresRoll) {\n          setRollCheck({\n            difficulty: activeTerminal.requiresRoll\n          });\n          typeText(\"Maximum password attempts reached. Attempting alternate access method...\", setTerminalData);\n        } else {\n          typeText(\"ACCESS DENIED. MAXIMUM ATTEMPTS REACHED.\", setTerminalData);\n          setTimeout(() => handleBackToInit(), 2000);\n        }\n      } else {\n        typeText(`ACCESS DENIED. INVALID PASSWORD. ${3 - attempts} attempts remaining.`, setTerminalData);\n      }\n    }\n  };\n\n  // Roll check handler\n  const handleRollCheck = passed => {\n    if (passed) {\n      if (activeTerminal) {\n        fetchLogs(activeTerminal.logs);\n      } else {\n        typeText(\"ERROR: Terminal not found.\", setTerminalData);\n      }\n    } else {\n      typeText(\"ACCESS DENIED. INSUFFICIENT CLEARANCE.\", setTerminalData);\n    }\n    setRollCheck(null);\n  };\n\n  // Special roll check handler\n  const handleSpecialRollCheck = passed => {\n    if (passed) {\n      if (selectedLogData) {\n        if (selectedLogData.logs) {\n          setAudioLogsData(selectedLogData.logs);\n          setShowAudioLogsPage(true);\n        } else {\n          setDisplayedText(\"\");\n          setLogTypingComplete(false);\n          setCurrentView(\"log\");\n          let message = \"\";\n          if (selectedLogData.roll_check && selectedLogData.roll_check.on_success) {\n            message = selectedLogData.roll_check.on_success + \"\\n\\n\";\n            message += `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\n          } else {\n            message = `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\n          }\n          if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\n            const {\n              level,\n              isEclipseShard\n            } = getCorruptionParams(message, activeTerminal.logs);\n            message = applyTextCorruption(message, level, isEclipseShard);\n          }\n          const typeWithRef = (text, setState, callback = null, index = 0, delay = 30) => {\n            if (index < text.length) {\n              setState(prev => prev + text[index]);\n              typingRef.current = setTimeout(() => typeWithRef(text, setState, callback, index + 1, delay), delay);\n            } else {\n              typingRef.current = null;\n              if (callback) callback();\n            }\n          };\n          typeWithRef(message, setDisplayedText, () => {\n            setLogTypingComplete(true);\n          });\n        }\n      }\n    } else {\n      if (selectedLogData && selectedLogData.roll_check && selectedLogData.roll_check.on_failure) {\n        typeText(selectedLogData.roll_check.on_failure, setTerminalData);\n      } else {\n        typeText(\"ACCESS DENIED. INSUFFICIENT CLEARANCE.\", setTerminalData);\n      }\n      setSelectedLogData(null);\n    }\n    setSpecialRollCheck(null);\n    setPasswordAttempts(0);\n    setPasswordInput(\"\");\n  };\n\n  // Fetch logs from terminal\n  const fetchLogs = async logPath => {\n    try {\n      const response = await fetch(logPath);\n      const data = await response.json();\n      if (Array.isArray(data)) {\n        setLogData(data);\n      } else {\n        // Handle special multi-level authentication\n        if (logPath.includes(\"01-1485-10-4-89-40\")) {\n          navigate(\"/riftjaw\");\n        } else {\n          setSelectedLogData(data);\n          setCurrentView(\"log\");\n          setDisplayedText(\"\");\n          setLogTypingComplete(false);\n          let message = `Date: ${data.date}\\nAuthor: ${data.author}\\n\\n${data.content || \"No data available.\"}`;\n          if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\n            const {\n              level,\n              isEclipseShard\n            } = getCorruptionParams(message, activeTerminal.logs);\n            message = applyTextCorruption(message, level, isEclipseShard);\n          }\n          const typeWithRef = (text, setState, callback = null, index = 0, delay = 30) => {\n            if (index < text.length) {\n              setState(prev => prev + text[index]);\n              typingRef.current = setTimeout(() => typeWithRef(text, setState, callback, index + 1, delay), delay);\n            } else {\n              typingRef.current = null;\n              if (callback) callback();\n            }\n          };\n          typeWithRef(message, setDisplayedText, () => {\n            setLogTypingComplete(true);\n          });\n        }\n      }\n    } catch (error) {\n      typeText(\"ERROR LOADING LOGS.\", setTerminalData);\n    }\n  };\n\n  // Handle log click\n  const handleLogClick = log => {\n    setSelectedLogData(log);\n    setCurrentView(\"log\");\n    setPasswordAttempts(0);\n    setPasswordInput(\"\");\n    if (log.logs) {\n      if (log.requires_password) {\n        setRequiresPassword(true);\n      } else {\n        setAudioLogsData(log.logs);\n        setShowAudioLogsPage(true);\n      }\n    } else if (log.requires_password) {\n      setRequiresPassword(true);\n    } else {\n      if (log.requires_roll && log.roll_check && log.roll_check.difficulty >= 10) {\n        setSpecialRollCheck({\n          difficulty: log.roll_check.difficulty\n        });\n      } else {\n        setDisplayedText(\"\");\n        setLogTypingComplete(false);\n        let message = `Date: ${log.date}\\nAuthor: ${log.author}\\n\\n${log.content}`;\n        if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\n          const {\n            level,\n            isEclipseShard\n          } = getCorruptionParams(message, activeTerminal.logs);\n          message = applyTextCorruption(message, level, isEclipseShard);\n        }\n        const typeWithRef = (text, setState, callback = null, index = 0, delay = 30) => {\n          if (index < text.length) {\n            setState(prev => prev + text[index]);\n            typingRef.current = setTimeout(() => typeWithRef(text, setState, callback, index + 1, delay), delay);\n          } else {\n            typingRef.current = null;\n            if (callback) callback();\n          }\n        };\n        typeWithRef(message, setDisplayedText, () => {\n          setLogTypingComplete(true);\n        });\n      }\n    }\n  };\n\n  // Password submit handler\n  const handlePasswordSubmit = () => {\n    if (passwordInput === selectedLogData.password) {\n      setRequiresPassword(false);\n      if (selectedLogData.logs) {\n        setAudioLogsData(selectedLogData.logs);\n        setShowAudioLogsPage(true);\n      } else {\n        setDisplayedText(\"\");\n        setLogTypingComplete(false);\n        let message = `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\n        if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\n          const {\n            level,\n            isEclipseShard\n          } = getCorruptionParams(message, activeTerminal.logs);\n          message = applyTextCorruption(message, level, isEclipseShard);\n        }\n        typeText(message, setDisplayedText, () => {\n          setLogTypingComplete(true);\n        });\n      }\n    } else {\n      const attempts = passwordAttempts + 1;\n      setPasswordAttempts(attempts);\n      if (attempts >= (selectedLogData.attemptsAllowed || 3)) {\n        setRequiresPassword(false);\n        setSpecialRollCheck({\n          difficulty: selectedLogData.roll_check.difficulty\n        });\n      } else {\n        typeText(\"Incorrect password. Please try again.\", setTerminalData);\n      }\n    }\n  };\n\n  // Navigation handlers\n  const handleBackToTerminal = () => {\n    setSelectedLogData(null);\n    setDisplayedText(\"\");\n    setLogTypingComplete(false);\n    setCurrentView(\"terminal\");\n    if (typingRef.current) {\n      clearTimeout(typingRef.current);\n      typingRef.current = null;\n    }\n  };\n  const handleBackToInit = () => {\n    setLogData(null);\n    setActiveTerminal(null);\n    setTerminalData(\"\");\n    setCurrentView(\"init\");\n    setTerminalPasswordRequired(false);\n    setTerminalPasswordInput(\"\");\n    setTerminalPasswordAttempts(0);\n    setRequiresPassword(false);\n    setPasswordInput(\"\");\n    setPasswordAttempts(0);\n  };\n\n  // Audio logs page\n  if (showAudioLogsPage) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center min-h-screen bg-black p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-green-400 font-mono text-xl my-4 terminal-flicker\",\n        children: \"Encrypted Audio Logs\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 907,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full max-w-md border-green-400 border-2 p-4 overflow-auto terminal-flicker\",\n        children: [audioLogsData.map((log, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: \"20px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-green-400 font-mono\",\n            children: log.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 911,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-green-400 font-mono\",\n            style: {\n              whiteSpace: \"pre-wrap\"\n            },\n            children: log.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 912,\n            columnNumber: 15\n          }, this), log.audio_file && /*#__PURE__*/_jsxDEV(\"audio\", {\n            controls: true,\n            style: {\n              backgroundColor: \"black\",\n              border: \"1px solid #33ff33\",\n              borderRadius: \"5px\",\n              width: \"100%\",\n              marginTop: \"10px\",\n              color: \"#33ff33\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"source\", {\n              src: log.audio_file,\n              type: \"audio/mp3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 925,\n              columnNumber: 19\n            }, this), \"Your browser does not support the audio element.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 914,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 910,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 mt-4\",\n          onClick: () => {\n            setShowAudioLogsPage(false);\n            setAudioLogsData([]);\n            setSelectedLogData(null);\n            setCurrentView(\"terminal\");\n          },\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 931,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 908,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 906,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Main render\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center min-h-screen bg-black p-2 sm:p-4\",\n    children: [currentView === \"init\" && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        fontFamily: \"monospace\",\n        color: \"#33ff33\",\n        whiteSpace: \"pre-wrap\",\n        marginBottom: \"10px\",\n        textAlign: \"center\",\n        fontSize: \"12px\"\n      },\n      className: \"terminal-flicker px-2 sm:text-sm lg:text-base\",\n      children: initText\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 951,\n      columnNumber: 9\n    }, this), currentView === \"init\" && accessedTerminals.length > 0 && /*#__PURE__*/_jsxDEV(NetworkMap, {\n      accessedTerminals: accessedTerminals,\n      activeTerminal: activeTerminal,\n      onTerminalSelect: handleNetworkTerminalSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 968,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"w-full max-w-sm sm:max-w-md lg:max-w-lg border-green-400 border-2\",\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        className: \"p-3 sm:p-4 lg:p-6\",\n        children: [/*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0\n          },\n          animate: {\n            opacity: 1\n          },\n          transition: {\n            duration: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${activeTerminal ? getTerminalEffectClasses(activeTerminal.logs) : \"terminal terminal-flicker\"} sm:h-[300px] lg:h-[350px] sm:text-xs lg:text-sm`,\n            style: {\n              overflow: \"auto\",\n              height: \"250px\",\n              position: \"relative\",\n              fontSize: \"11px\"\n            },\n            ref: terminalRef,\n            children: [severeMalfunction && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center z-20\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-red-500 font-mono text-sm sm:text-lg lg:text-xl severe-glitch p-2 sm:p-4 border border-red-500\",\n                children: glitchText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 991,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 990,\n              columnNumber: 17\n            }, this), terminalPasswordRequired ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-2\",\n                children: \"Terminal requires password authentication.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1000,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-4\",\n                children: [\"Attempts remaining: \", 3 - terminalPasswordAttempts]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1001,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mt-4\",\n                children: [/*#__PURE__*/_jsxDEV(Input, {\n                  className: \"bg-black text-green-400 border border-green-400 px-2 sm:px-3 py-2 font-mono focus:outline-none w-full text-xs sm:text-sm\",\n                  placeholder: \"Enter Password\",\n                  value: terminalPasswordInput,\n                  onChange: e => setTerminalPasswordInput(e.target.value),\n                  type: \"password\",\n                  onKeyDown: e => {\n                    if (e.key === \"Enter\") {\n                      handleTerminalPasswordSubmit();\n                    }\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1003,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex flex-col sm:flex-row gap-2 mt-2\",\n                  children: [/*#__PURE__*/_jsxDEV(Button, {\n                    className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                    onClick: handleTerminalPasswordSubmit,\n                    children: \"Submit\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1016,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(Button, {\n                    className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                    onClick: handleBackToInit,\n                    children: \"Back\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1022,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1015,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1002,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 999,\n              columnNumber: 17\n            }, this) : specialRollCheck ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-4 text-xs sm:text-sm\",\n                children: [\"Did you pass the \", specialRollCheck.difficulty, \"+ check for\", \" \", selectedLogData ? selectedLogData.title : \"this file\", \"?\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                  onClick: () => handleSpecialRollCheck(true),\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1038,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                  onClick: () => handleSpecialRollCheck(false),\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1044,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1037,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 17\n            }, this) : rollCheck ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-4 text-xs sm:text-sm\",\n                children: [\"Did you pass the \", rollCheck.difficulty, \"+ Electronics (Computers) check?\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                  onClick: () => handleRollCheck(true),\n                  children: \"Yes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1058,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                  onClick: () => handleRollCheck(false),\n                  children: \"No\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1064,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1053,\n              columnNumber: 17\n            }, this) : selectedLogData && requiresPassword ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  whiteSpace: \"pre-wrap\",\n                  marginBottom: \"10px\"\n                },\n                className: \"text-xs sm:text-sm\",\n                children: displayedText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1074,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mb-2 text-xs sm:text-sm\",\n                children: [\"Password required. Attempts remaining:\", \" \", (selectedLogData.attemptsAllowed || 3) - passwordAttempts]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1075,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Input, {\n                className: \"bg-black text-green-400 border border-green-400 px-2 sm:px-3 py-2 font-mono focus:outline-none w-full text-xs sm:text-sm\",\n                placeholder: \"Enter Password\",\n                value: passwordInput,\n                onChange: e => setPasswordInput(e.target.value),\n                type: \"password\",\n                onKeyPress: e => {\n                  if (e.key === 'Enter') {\n                    handlePasswordSubmit();\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1079,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row gap-2 mt-2\",\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                  onClick: handlePasswordSubmit,\n                  children: \"Submit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1092,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\",\n                  onClick: handleBackToTerminal,\n                  children: \"Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1098,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1091,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1073,\n              columnNumber: 17\n            }, this) : selectedLogData ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"terminal-glitch p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  whiteSpace: \"pre-wrap\"\n                },\n                className: \"text-xs sm:text-sm\",\n                children: displayedText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1108,\n                columnNumber: 19\n              }, this), selectedLogData.audio_file && /*#__PURE__*/_jsxDEV(\"audio\", {\n                controls: true,\n                className: \"w-full mt-2\",\n                style: {\n                  backgroundColor: \"black\",\n                  border: \"1px solid #33ff33\",\n                  borderRadius: \"5px\",\n                  color: \"#33ff33\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"source\", {\n                  src: selectedLogData.audio_file,\n                  type: \"audio/mp3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1120,\n                  columnNumber: 23\n                }, this), \"Your browser does not support the audio element.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1110,\n                columnNumber: 21\n              }, this), logTypingComplete && /*#__PURE__*/_jsxDEV(Button, {\n                className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 mt-2 w-full sm:w-auto text-xs sm:text-sm\",\n                onClick: handleBackToTerminal,\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1107,\n              columnNumber: 17\n            }, this) : logData ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-2\",\n              children: [logData.map((log, index) => /*#__PURE__*/_jsxDEV(\"p\", {\n                onClick: () => handleLogClick(log),\n                className: \"cursor-pointer underline py-2 sm:py-1 text-xs sm:text-sm hover:text-green-300\",\n                children: log.title\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1136,\n                columnNumber: 21\n              }, this)), /*#__PURE__*/_jsxDEV(Button, {\n                className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 mt-2 w-full sm:w-auto text-xs sm:text-sm\",\n                onClick: handleBackToInit,\n                children: \"Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1144,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1134,\n              columnNumber: 17\n            }, this) : currentView === \"init\" && commandMode ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"command-interface p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"command-output\",\n                style: {\n                  minHeight: '150px',\n                  maxHeight: '200px',\n                  overflowY: 'auto',\n                  marginBottom: '10px'\n                },\n                children: commandOutput.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    marginBottom: '10px'\n                  },\n                  className: \"text-xs sm:text-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      color: '#33ff33'\n                    },\n                    children: [\"> \", entry.command]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1161,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      whiteSpace: 'pre-wrap',\n                      marginLeft: '10px'\n                    },\n                    children: entry.output\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1162,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1160,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1153,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"command-prompt flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mr-1 text-xs sm:text-sm\",\n                  children: \">\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1169,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Input, {\n                  className: \"bg-black text-green-400 border-0 px-0 py-0 font-mono focus:outline-none flex-grow text-xs sm:text-sm\",\n                  placeholder: \"Enter command...\",\n                  value: inputCode,\n                  onChange: e => setInputCode(e.target.value),\n                  onKeyDown: handleCommandInput,\n                  autoFocus: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1170,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1168,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1152,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"glitch-text p-2 text-xs sm:text-sm\",\n              children: terminalData || \"ENTER ACCESS CODE TO PROCEED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1181,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 978,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 977,\n          columnNumber: 11\n        }, this), currentView === \"init\" && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 sm:mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"command-mode-toggle mb-2 text-right\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              className: \"bg-green-400 text-black font-mono px-2 py-1 rounded text-xs hover:bg-green-500\",\n              onClick: () => {\n                setCommandMode(!commandMode);\n                setCommandOutput([]);\n                setInputCode(\"\");\n              },\n              children: commandMode ? 'GUI MODE' : 'COMMAND MODE'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1193,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1192,\n            columnNumber: 15\n          }, this), !commandMode && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col sm:flex-row gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Input, {\n              className: \"bg-black text-green-400 border border-green-400 px-2 sm:px-3 py-2 font-mono focus:outline-none text-xs sm:text-sm flex-grow\",\n              placeholder: \"Enter Access Code...\",\n              value: inputCode,\n              onChange: e => setInputCode(e.target.value),\n              onKeyDown: e => {\n                if (e.key === \"Enter\") {\n                  handleAccessCode();\n                }\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 text-xs sm:text-sm w-full sm:w-auto\",\n              onClick: handleAccessCode,\n              children: \"Enter\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1219,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1207,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1190,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 976,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 975,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 949,\n    columnNumber: 5\n  }, this);\n}\n_s(TravellerTerminal, \"UFdKitIbAnyHBlpa7/7HFhs9muY=\", false, function () {\n  return [useNavigate];\n});\n_c2 = TravellerTerminal;\nvar _c, _c2;\n$RefreshReg$(_c, \"NetworkMap\");\n$RefreshReg$(_c2, \"TravellerTerminal\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Card","CardContent","Input","Button","motion","useNavigate","jsxDEV","_jsxDEV","NetworkMap","accessedTerminals","activeTerminal","onTerminalSelect","length","getTerminalStatus","terminalId","terminal","terminals","requiresPassword","includes","requiresRoll","getStatusColor","status","div","initial","opacity","y","animate","className","style","fontSize","children","fileName","_jsxFileName","lineNumber","columnNumber","map","index","isActive","logs","color","borderColor","onClick","toUpperCase","_c","corruptionCharacters","applyTextCorruption","text","corruptionLevel","isEclipseShard","lines","split","corruptedLines","line","trim","corruptedLine","i","Math","random","charAt","floor","join","getTerminalEffectClasses","terminalName","replace","damagedTerminals","minorGlitchTerminals","shouldCorruptContent","content","corruptTerminals","getCorruptionParams","level","isEclipseContent","password","typeText","setState","callback","delay","prev","setTimeout","TravellerTerminal","_s","navigate","hasInitialized","typingRef","terminalRef","initText","setInitText","initComplete","setInitComplete","currentView","setCurrentView","inputCode","setInputCode","terminalData","setTerminalData","setAccessedTerminals","setActiveTerminal","logData","setLogData","selectedLogData","setSelectedLogData","displayedText","setDisplayedText","logTypingComplete","setLogTypingComplete","rollCheck","setRollCheck","specialRollCheck","setSpecialRollCheck","setRequiresPassword","passwordInput","setPasswordInput","passwordAttempts","setPasswordAttempts","terminalPasswordRequired","setTerminalPasswordRequired","terminalPasswordInput","setTerminalPasswordInput","terminalPasswordAttempts","setTerminalPasswordAttempts","severeMalfunction","setSevereMalfunction","glitchText","setGlitchText","commandMode","setCommandMode","commandHistory","setCommandHistory","historyIndex","setHistoryIndex","commandOutput","setCommandOutput","showAudioLogsPage","setShowAudioLogsPage","audioLogsData","setAudioLogsData","terminalCommands","help","description","execute","helpText","Object","entries","cmd","info","padEnd","scan","availableTerminals","keys","scanResults","t","corrupted","encrypted","accessed","trace","traces","decrypt","chance","ping","latency","packetLoss","jitter","whoami","toString","padStart","Date","toLocaleTimeString","clear","ls","files","log","locked","requires_roll","roll_check","difficulty","requires_password","title","cat","args","fileIndex","parseInt","handleLogClick","connect","toLowerCase","handleAccessCode","network","hiddenCommands","riftjaw","eclipse","toFixed","trevar","vanagandr","current","loadingMessages","displayNextMessage","welcomeMessage","scrollTop","scrollHeight","processCommand","input","parts","command","slice","output","handleCommandInput","e","key","preventDefault","newIndex","handleKeyDown","target","tagName","clearTimeout","fullText","date","author","handleBackToTerminal","handleBackToInit","window","addEventListener","removeEventListener","glitchEnabledTerminals","randomGlitch","glitchMessages","glitchInterval","setInterval","clearInterval","codeToCheck","fetchLogs","handleNetworkTerminalSelect","handleTerminalPasswordSubmit","attempts","handleRollCheck","passed","handleSpecialRollCheck","message","on_success","typeWithRef","on_failure","logPath","response","fetch","data","json","Array","isArray","error","handlePasswordSubmit","attemptsAllowed","marginBottom","whiteSpace","audio_file","controls","backgroundColor","border","borderRadius","width","marginTop","src","type","fontFamily","textAlign","transition","duration","overflow","height","position","ref","placeholder","value","onChange","onKeyDown","onKeyPress","minHeight","maxHeight","overflowY","entry","marginLeft","autoFocus","_c2","$RefreshReg$"],"sources":["C:/Users/James/Desktop/traveller-terminal-v5/src/components/TravellerTerminal.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Card, CardContent } from \"../ui/Card\";\r\nimport { Input } from \"../ui/Input\";\r\nimport { Button } from \"../ui/Button\";\r\nimport { motion } from \"framer-motion\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n// Network Map Component\r\nconst NetworkMap = ({ accessedTerminals, activeTerminal, onTerminalSelect }) => {\r\n  if (accessedTerminals.length === 0) return null;\r\n\r\n  const getTerminalStatus = (terminalId) => {\r\n    const terminal = terminals[terminalId];\r\n    if (!terminal) return 'offline';\r\n    if (terminal.requiresPassword) return 'encrypted';\r\n    if (['blacksite-es1', 'sayelle-logs', 'vennik-personal'].includes(terminalId)) return 'corrupted';\r\n    if (terminal.requiresRoll && terminal.requiresRoll >= 10) return 'secure';\r\n    return 'active';\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'active': return '#33ff33';\r\n      case 'corrupted': return '#ff3333';\r\n      case 'encrypted': return '#ffaa00';\r\n      case 'secure': return '#3366ff';\r\n      default: return '#666666';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div \r\n      initial={{ opacity: 0, y: -20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      className=\"network-map mb-4 p-3 border border-green-400 rounded bg-black bg-opacity-80\"\r\n      style={{ fontSize: '10px' }}\r\n    >\r\n      <div className=\"text-green-400 font-mono mb-2 text-xs\">NETWORK MAP</div>\r\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-2\">\r\n        {accessedTerminals.map((terminalId, index) => {\r\n          const status = getTerminalStatus(terminalId);\r\n          const isActive = activeTerminal?.logs.includes(terminalId);\r\n          \r\n          return (\r\n            <div \r\n              key={terminalId}\r\n              className={`network-node cursor-pointer p-1 rounded border text-center transition-all hover:bg-opacity-20 hover:bg-green-400 ${\r\n                isActive ? 'bg-green-400 bg-opacity-20 border-green-400' : 'border-gray-600'\r\n              }`}\r\n              style={{ \r\n                color: getStatusColor(status),\r\n                borderColor: getStatusColor(status),\r\n                fontSize: '9px'\r\n              }}\r\n              onClick={() => onTerminalSelect(terminalId)}\r\n            >\r\n              <div className=\"font-mono\">{terminalId.toUpperCase()}</div>\r\n              <div className=\"text-xs opacity-80\">\r\n                {status === 'corrupted' && '[UNSTABLE]'}\r\n                {status === 'encrypted' && '[ENCRYPTED]'}\r\n                {status === 'secure' && '[SECURE]'}\r\n                {status === 'active' && '[ONLINE]'}\r\n                {status === 'offline' && '[OFFLINE]'}\r\n              </div>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n      {accessedTerminals.length > 0 && (\r\n        <div className=\"mt-2 text-xs text-green-400 opacity-70\">\r\n          Click any terminal to reconnect\r\n        </div>\r\n      )}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Character set for corruption effects\r\nconst corruptionCharacters = \"!@#$%^&*()_+-=[]{}|;:,./<>?`~¡™£¢∞§¶•ªº–≠\";\r\n\r\n// Apply text corruption for glitch effects\r\nconst applyTextCorruption = (text, corruptionLevel = 0.02, isEclipseShard = false) => {\r\n  if (!text) return \"\";\r\n  \r\n  const lines = text.split('\\n');\r\n  const corruptedLines = lines.map(line => {\r\n    if (line.trim() === '') return line;\r\n    \r\n    let corruptedLine = '';\r\n    for (let i = 0; i < line.length; i++) {\r\n      if (isEclipseShard && \r\n         (line.includes(\"SHARD\") || line.includes(\"Eclipse\") || line.includes(\"Trevar\")) && \r\n         Math.random() < 0.2) {\r\n        if (Math.random() < 0.4) {\r\n          corruptedLine += corruptionCharacters.charAt(\r\n            Math.floor(Math.random() * corruptionCharacters.length)\r\n          );\r\n          continue;\r\n        }\r\n      }\r\n      \r\n      if (Math.random() < corruptionLevel) {\r\n        corruptedLine += corruptionCharacters.charAt(\r\n          Math.floor(Math.random() * corruptionCharacters.length)\r\n        );\r\n      } else {\r\n        corruptedLine += line[i];\r\n      }\r\n    }\r\n    return corruptedLine;\r\n  });\r\n  \r\n  return corruptedLines.join('\\n');\r\n};\r\n\r\n// Get terminal visual effects based on type\r\nconst getTerminalEffectClasses = (terminalId) => {\r\n  if (!terminalId) return \"terminal terminal-flicker\";\r\n  \r\n  const terminalName = terminalId.includes(\"/\") \r\n    ? terminalId.replace(\"/logs/\", \"\").replace(\".json\", \"\")\r\n    : terminalId;\r\n  \r\n  const damagedTerminals = [\"blacksite-es1\", \"sayelle-logs\", \"vennik-personal\"];\r\n  const minorGlitchTerminals = [\"fuwnet\", \"vanagandr001\", \"fuw01\", \"blacktalon\"];\r\n  \r\n  if (damagedTerminals.includes(terminalName)) {\r\n    return \"terminal terminal-severe-flicker terminal-scanlines\";\r\n  } else if (minorGlitchTerminals.includes(terminalName)) {\r\n    return \"terminal terminal-flicker terminal-scanlines\";\r\n  }\r\n  return \"terminal terminal-flicker\";\r\n};\r\n\r\n// Check if content should be corrupted\r\nconst shouldCorruptContent = (content, terminalId) => {\r\n  if (!content || !terminalId) return false;\r\n  \r\n  const terminalName = terminalId.includes(\"/\") \r\n    ? terminalId.replace(\"/logs/\", \"\").replace(\".json\", \"\")\r\n    : terminalId;\r\n  \r\n  const corruptTerminals = [\"blacksite-es1\", \"vennik-personal\", \"sayelle-logs\", \"blacktalon\"];\r\n  \r\n  return corruptTerminals.includes(terminalName) || \r\n         content.includes(\"Eclipse Shard\") || \r\n         content.includes(\"ES1\") ||\r\n         content.includes(\"Trevar\");\r\n};\r\n\r\n// Get corruption parameters\r\nconst getCorruptionParams = (content, terminalId) => {\r\n  if (!content || !terminalId) return { level: 0, isEclipseShard: false };\r\n  \r\n  const terminalName = terminalId.includes(\"/\") \r\n    ? terminalId.replace(\"/logs/\", \"\").replace(\".json\", \"\")\r\n    : terminalId;\r\n  \r\n  const isEclipseContent = content.includes(\"Eclipse Shard\") || \r\n                         content.includes(\"ES1\") ||\r\n                         terminalName === \"blacksite-es1\";\r\n                         \r\n  if (isEclipseContent) return { level: 0.03, isEclipseShard: true };\r\n  if (terminalName.includes(\"blacksite\")) return { level: 0.02, isEclipseShard: false };\r\n  if (terminalName.includes(\"sayelle\")) return { level: 0.015, isEclipseShard: false };\r\n  return { level: 0.01, isEclipseShard: false };\r\n};\r\n\r\n// Terminal definitions\r\nconst terminals = {\r\n  \"lysani01\": { requiresRoll: 8, logs: \"/logs/lysani01.json\" },\r\n  \"s.elara01\": { requiresRoll: false, logs: \"/logs/s.elara01.json\" },\r\n  \"slocombe875\": { requiresRoll: 8, logs: \"/logs/slocombe875.json\" },\r\n  \"waferterm01\": { requiresRoll: false, logs: \"/logs/waferterm01.json\" },\r\n  \"labpc81\": { requiresRoll: 6, logs: \"/logs/labpc81.json\" },\r\n  \"vanagandr001\": { requiresRoll: 8, logs: \"/logs/vanagandr001.json\" },\r\n  \"blackcircuit01\": { requiresRoll: 8, logs: \"/logs/blackcircuit01.json\" },\r\n  \"fuw01\": { requiresRoll: 8, logs: \"/logs/fuw01.json\" },\r\n  \"azura01\": { requiresRoll: 10, logs: \"/logs/azura01.json\" },\r\n  \"vennik01\": { requiresRoll: 12, logs: \"/logs/vennik01.json\", requiresPassword: true, password: \"vennik4ever\" },\r\n  \"caldonis_public\": { requiresRoll: false, logs: \"/logs/caldonis_public.json\" },\r\n  \"blacksite-es1\": { requiresRoll: 10, logs: \"/logs/blacksite-es1.json\" },\r\n  \"blacktalon\": { requiresRoll: 12, logs: \"/logs/blacktalon.json\" },\r\n  \"vennik-personal\": { requiresRoll: 10, logs: \"/logs/vennik-personal.json\" },\r\n  \"sayelle-logs\": { requiresRoll: 8, logs: \"/logs/sayelle-logs.json\" },\r\n  \"fuwnet\": { requiresRoll: 8, logs: \"/logs/fuw-network.json\" },\r\n  \"01-1485-10-4-89-40\": { requiresRoll: false, logs: \"/logs/01-1485-10-4-89-40.json\" }\r\n};\r\n\r\n// Typing effect\r\nconst typeText = (text, setState, callback = null, index = 0, delay = 30) => {\r\n  if (index < text.length) {\r\n    setState(prev => prev + text[index]);\r\n    setTimeout(() => typeText(text, setState, callback, index + 1, delay), delay);\r\n  } else {\r\n    if (callback) callback();\r\n  }\r\n};\r\n\r\nexport default function TravellerTerminal() {\r\n  const navigate = useNavigate();\r\n  const hasInitialized = useRef(false);\r\n  const typingRef = useRef(null);\r\n  const terminalRef = useRef(null);\r\n  \r\n  // Core state\r\n  const [initText, setInitText] = useState(\"\");\r\n  const [initComplete, setInitComplete] = useState(false);\r\n  const [currentView, setCurrentView] = useState(\"init\");\r\n  const [inputCode, setInputCode] = useState(\"\");\r\n  const [terminalData, setTerminalData] = useState(\"\");\r\n  \r\n  // Network tracking state\r\n  const [accessedTerminals, setAccessedTerminals] = useState([]);\r\n  \r\n  // Terminal state\r\n  const [activeTerminal, setActiveTerminal] = useState(null);\r\n  const [logData, setLogData] = useState(null);\r\n  const [selectedLogData, setSelectedLogData] = useState(null);\r\n  const [displayedText, setDisplayedText] = useState(\"\");\r\n  const [logTypingComplete, setLogTypingComplete] = useState(false);\r\n  \r\n  // Security state\r\n  const [rollCheck, setRollCheck] = useState(null);\r\n  const [specialRollCheck, setSpecialRollCheck] = useState(null);\r\n  const [requiresPassword, setRequiresPassword] = useState(false);\r\n  const [passwordInput, setPasswordInput] = useState(\"\");\r\n  const [passwordAttempts, setPasswordAttempts] = useState(0);\r\n  const [terminalPasswordRequired, setTerminalPasswordRequired] = useState(false);\r\n  const [terminalPasswordInput, setTerminalPasswordInput] = useState(\"\");\r\n  const [terminalPasswordAttempts, setTerminalPasswordAttempts] = useState(0);\r\n  \r\n  // Visual effects state\r\n  const [severeMalfunction, setSevereMalfunction] = useState(false);\r\n  const [glitchText, setGlitchText] = useState(\"\");\r\n  \r\n  // Command mode state - FIXED\r\n  const [commandMode, setCommandMode] = useState(false);\r\n  const [commandHistory, setCommandHistory] = useState([]);\r\n  const [historyIndex, setHistoryIndex] = useState(-1);\r\n  const [commandOutput, setCommandOutput] = useState([]);\r\n\r\n  // Audio logs state\r\n  const [showAudioLogsPage, setShowAudioLogsPage] = useState(false);\r\n  const [audioLogsData, setAudioLogsData] = useState([]);\r\n\r\n  // Terminal commands definition\r\n  const terminalCommands = {\r\n    help: {\r\n      description: \"Display available commands\",\r\n      execute: () => {\r\n        const helpText = Object.entries(terminalCommands)\r\n          .map(([cmd, info]) => `${cmd.padEnd(15)} - ${info.description}`)\r\n          .join('\\n');\r\n        return `Available commands:\\n\\n${helpText}\\n\\nType 'exit' to return to normal mode.`;\r\n      }\r\n    },\r\n    scan: {\r\n      description: \"Scan for nearby terminals\",\r\n      execute: () => {\r\n        const availableTerminals = Object.keys(terminals);\r\n        const scanResults = availableTerminals.map((t, i) => {\r\n          const corrupted = ['blacksite-es1', 'sayelle-logs', 'vennik-personal'].includes(t);\r\n          const encrypted = terminals[t].requiresPassword;\r\n          const accessed = accessedTerminals.includes(t);\r\n          const status = corrupted ? '[CORRUPTED]' : encrypted ? '[ENCRYPTED]' : accessed ? '[ACCESSED]' : '[ONLINE]';\r\n          return `${i + 1}. ${t.padEnd(20)} ${status}`;\r\n        }).join('\\n');\r\n        \r\n        return `Scanning local network...\\n\\n${scanResults}\\n\\nUse 'connect [terminal_name]' to establish connection.`;\r\n      }\r\n    },\r\n    trace: {\r\n      description: \"Trace signal origin\",\r\n      execute: () => {\r\n        const traces = [\r\n          \"Tracing signal path...\",\r\n          \"Hop 1: Eternium Starport Relay [OK]\",\r\n          \"Hop 2: Caldonis Central Hub [OK]\", \r\n          \"Hop 3: ████████████ [ENCRYPTED]\",\r\n          \"Hop 4: Blacksite ES1 [CONNECTION LOST]\",\r\n          \"\",\r\n          \"WARNING: Trace detected by remote system\",\r\n          \"ALERT: Counter-trace initiated\"\r\n        ];\r\n        return traces.join('\\n');\r\n      }\r\n    },\r\n    decrypt: {\r\n      description: \"Attempt to decrypt corrupted data\",\r\n      execute: () => {\r\n        if (selectedLogData && activeTerminal) {\r\n          const chance = Math.random();\r\n          if (chance > 0.7) {\r\n            return \"Decryption successful! Corruption reduced by 15%.\\nRe-displaying content with improved clarity...\";\r\n          } else if (chance > 0.3) {\r\n            return \"Partial decryption achieved. Some data recovered.\\nCorruption reduced by 5%.\";\r\n          } else {\r\n            return \"Decryption failed. Data integrity compromised.\\nWARNING: Security countermeasures detected.\";\r\n          }\r\n        }\r\n        return \"No encrypted data in current buffer.\";\r\n      }\r\n    },\r\n    ping: {\r\n      description: \"Check connection stability\",\r\n      execute: () => {\r\n        const latency = Math.floor(Math.random() * 200) + 50;\r\n        const packetLoss = Math.floor(Math.random() * 15);\r\n        const jitter = Math.floor(Math.random() * 30);\r\n        \r\n        return `Connection diagnostics:\r\n        \r\nLatency: ${latency}ms\r\nPacket Loss: ${packetLoss}%\r\nJitter: ${jitter}ms\r\nSignal Strength: ${100 - packetLoss}%\r\n        \r\n${packetLoss > 10 ? 'WARNING: Connection unstable' : 'Connection stable'}`;\r\n      }\r\n    },\r\n    whoami: {\r\n      description: \"Display current user info\",\r\n      execute: () => {\r\n        return `Current User: GUEST_${Math.floor(Math.random() * 9999).toString().padStart(4, '0')}\r\nAccess Level: RESTRICTED\r\nSession Started: ${new Date().toLocaleTimeString()}\r\nOrigin: Eternium Starport\r\nTerminal: ${activeTerminal ? activeTerminal.logs.replace('/logs/', '').replace('.json', '') : 'NONE'}`;\r\n      }\r\n    },\r\n    clear: {\r\n      description: \"Clear terminal screen\",\r\n      execute: () => {\r\n        setCommandOutput([]);\r\n        return null;\r\n      }\r\n    },\r\n    ls: {\r\n      description: \"List available files\",\r\n      execute: () => {\r\n        if (logData) {\r\n          const files = logData.map((log, i) => {\r\n            const locked = log.requires_roll ? `[LOCKED:${log.roll_check.difficulty}+]` : '';\r\n            const password = log.requires_password ? '[PASSWORD]' : '';\r\n            return `${i.toString().padStart(2, '0')}. ${log.title.padEnd(40)} ${locked}${password}`;\r\n          }).join('\\n');\r\n          return `Directory listing:\\n\\n${files}\\n\\nUse 'cat [number]' to view file contents.`;\r\n        }\r\n        return \"No files in current directory. Use 'scan' to find terminals.\";\r\n      }\r\n    },\r\n    cat: {\r\n      description: \"Display file contents\",\r\n      execute: (args) => {\r\n        if (!args || args.length === 0) {\r\n          return \"Usage: cat [file_number]\";\r\n        }\r\n        \r\n        const fileIndex = parseInt(args[0]);\r\n        if (logData && fileIndex >= 0 && fileIndex < logData.length) {\r\n          handleLogClick(logData[fileIndex]);\r\n          return `Loading file: ${logData[fileIndex].title}...`;\r\n        }\r\n        \r\n        return `Error: File not found. Use 'ls' to list available files.`;\r\n      }\r\n    },\r\n    connect: {\r\n      description: \"Connect to a terminal\",\r\n      execute: (args) => {\r\n        if (!args || args.length === 0) {\r\n          return \"Usage: connect [terminal_name]\";\r\n        }\r\n        \r\n        const terminalName = args.join(' ').toLowerCase();\r\n        if (terminals[terminalName]) {\r\n          // Add to accessed terminals if not already there\r\n          if (!accessedTerminals.includes(terminalName)) {\r\n            setAccessedTerminals(prev => [...prev, terminalName]);\r\n          }\r\n          \r\n          setInputCode(terminalName);\r\n          // Use setTimeout to ensure state updates\r\n          setTimeout(() => {\r\n            handleAccessCode(terminalName);\r\n          }, 100);\r\n          return `Attempting connection to ${terminalName}...`;\r\n        }\r\n        \r\n        return `Error: Terminal '${terminalName}' not found. Use 'scan' to list available terminals.`;\r\n      }\r\n    },\r\n    network: {\r\n      description: \"Show network map\",\r\n      execute: () => {\r\n        if (accessedTerminals.length === 0) {\r\n          return \"No terminals accessed yet. Use 'scan' to find available terminals.\";\r\n        }\r\n        return `Network Map:\\n\\n${accessedTerminals.map(t => `• ${t.toUpperCase()}`).join('\\n')}\\n\\nUse 'connect [terminal]' to reconnect.`;\r\n      }\r\n    }\r\n  };\r\n\r\n  // Hidden/Easter egg commands\r\n  const hiddenCommands = {\r\n    riftjaw: () => {\r\n      setSevereMalfunction(true);\r\n      setTimeout(() => setSevereMalfunction(false), 3000);\r\n      return \"WARNING: UNAUTHORIZED ACCESS ATTEMPT DETECTED\\n\\nᚱᛁᚠᛏᛃᚨᚹ ᛊᛏᛁᚱᛊ ᛒᛖᚾᛖᚨᚦ\\n\\nSYSTEM LOCKDOWN INITIATED\";\r\n    },\r\n    eclipse: () => {\r\n      const glitchText = \"QUANTUM FLUCTUATION DETECTED IN LOCAL SPACETIME\\n\\n\" +\r\n        \"Reality anchor holding at \" + (Math.random() * 30 + 70).toFixed(1) + \"%\\n\" +\r\n        \"Dimensional barriers: UNSTABLE\\n\" +\r\n        \"Eclipse Shard resonance detected: \" + (Math.random() * 1000).toFixed(0) + \" Hz\\n\\n\" +\r\n        \"ERROR: Cannot triangulate signal source\";\r\n      return applyTextCorruption(glitchText, 0.1, true);\r\n    },\r\n    trevar: () => {\r\n      return \"SUBJECT FILE CLASSIFIED - OMEGA CLEARANCE REQUIRED\\n\\n\" +\r\n        \"Last known status: CONTAINED\\n\" +\r\n        \"Location: [REDACTED]\\n\" +\r\n        \"Neural synchronization: 87%\\n\" +\r\n        \"Warning: Subject demonstrates Class-IV psionic manifestations\";\r\n    },\r\n    vanagandr: () => {\r\n      return \"VESSEL REGISTRY: VANAGANDR\\n\" +\r\n        \"Class: Type-S Scout/Courier (Modified)\\n\" +\r\n        \"Status: IMPOUNDED - PENDING AUCTION\\n\" +\r\n        \"Special Modifications: CLASSIFIED\\n\" +\r\n        \"Warning: Ship systems contain encrypted data\\n\" +\r\n        \"Warning: Potential biohazard in cargo hold\";\r\n    }\r\n  };\r\n\r\n  // Initialize terminal\r\n  useEffect(() => {\r\n    if (hasInitialized.current) return;\r\n    hasInitialized.current = true;\r\n    \r\n    const loadingMessages = [\r\n      \"Initializing system...\",\r\n      \"Connecting to network...\",\r\n      \"Loading secure protocols...\",\r\n      \"The Traveller Terminal is now online.\"\r\n    ];\r\n    \r\n    let i = 0;\r\n    const displayNextMessage = () => {\r\n      if (i < loadingMessages.length) {\r\n        typeText(loadingMessages[i] + \"\\n\", setInitText, () => {\r\n          setInitText(prev => prev + \"\\n\");\r\n          i++;\r\n          displayNextMessage();\r\n        }, 0, 50);\r\n      } else {\r\n        const welcomeMessage =\r\n          \"\\nWelcome to The Traveller Terminal.\\n\" +\r\n          \"Type the name of a terminal to access its contents.\\n\" +\r\n          \"Press ESC at any time to go back.\\n\" +\r\n          \"Type 'help' in command mode for advanced options.\\n\\n\";\r\n        typeText(welcomeMessage, setInitText, () => {\r\n          setInitComplete(true);\r\n        }, 0, 50);\r\n      }\r\n    };\r\n    displayNextMessage();\r\n  }, []);\r\n\r\n  // Auto-scroll terminal\r\n  useEffect(() => {\r\n    if (terminalRef.current) {\r\n      terminalRef.current.scrollTop = terminalRef.current.scrollHeight;\r\n    }\r\n  }, [displayedText, terminalData, logTypingComplete, currentView, commandOutput]);\r\n\r\n  // Command processing - FIXED\r\n  const processCommand = (input) => {\r\n    if (!input.trim()) return;\r\n    \r\n    const parts = input.trim().toLowerCase().split(' ');\r\n    const command = parts[0];\r\n    const args = parts.slice(1);\r\n    \r\n    // Add to history\r\n    setCommandHistory(prev => [...prev, input]);\r\n    setHistoryIndex(-1);\r\n    \r\n    if (command === 'exit') {\r\n      setCommandMode(false);\r\n      setCommandOutput([]);\r\n      return;\r\n    }\r\n    \r\n    let output = null;\r\n    \r\n    if (terminalCommands[command]) {\r\n      output = terminalCommands[command].execute(args);\r\n    } else if (hiddenCommands[command]) {\r\n      output = hiddenCommands[command]();\r\n    } else {\r\n      output = `Command not recognized: '${command}'. Type 'help' for available commands.`;\r\n    }\r\n    \r\n    if (output !== null) {\r\n      setCommandOutput(prev => [...prev, { command: input, output }]);\r\n    }\r\n  };\r\n\r\n  // FIXED Command input handler\r\n  const handleCommandInput = (e) => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      processCommand(inputCode);\r\n      setInputCode('');\r\n    } else if (e.key === 'ArrowUp') {\r\n      e.preventDefault();\r\n      if (commandHistory.length > 0 && historyIndex < commandHistory.length - 1) {\r\n        const newIndex = historyIndex + 1;\r\n        setHistoryIndex(newIndex);\r\n        setInputCode(commandHistory[commandHistory.length - 1 - newIndex]);\r\n      }\r\n    } else if (e.key === 'ArrowDown') {\r\n      e.preventDefault();\r\n      if (historyIndex > 0) {\r\n        const newIndex = historyIndex - 1;\r\n        setHistoryIndex(newIndex);\r\n        setInputCode(commandHistory[commandHistory.length - 1 - newIndex]);\r\n      } else if (historyIndex === 0) {\r\n        setHistoryIndex(-1);\r\n        setInputCode('');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Keyboard shortcuts\r\n  useEffect(() => {\r\n    const handleKeyDown = (e) => {\r\n      // Only handle ESC and Enter when not in input fields\r\n      if (e.target.tagName === 'INPUT') return;\r\n      \r\n      if (e.key === \"Escape\") {\r\n        if (currentView === \"log\" && !logTypingComplete) {\r\n          setLogTypingComplete(true);\r\n          if (typingRef.current) {\r\n            clearTimeout(typingRef.current);\r\n          }\r\n          if (selectedLogData) {\r\n            let fullText = `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\r\n            \r\n            if (activeTerminal && shouldCorruptContent(fullText, activeTerminal.logs)) {\r\n              const { level, isEclipseShard } = getCorruptionParams(fullText, activeTerminal.logs);\r\n              fullText = applyTextCorruption(fullText, level, isEclipseShard);\r\n            }\r\n            \r\n            setDisplayedText(fullText);\r\n          }\r\n        } else if (currentView === \"log\") {\r\n          handleBackToTerminal();\r\n        } else if (currentView === \"terminal\") {\r\n          handleBackToInit();\r\n        }\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\r\n  }, [currentView, logTypingComplete, selectedLogData, activeTerminal]);\r\n\r\n  // Random glitch effects\r\n  useEffect(() => {\r\n    if (!activeTerminal || !selectedLogData) return;\r\n    \r\n    const terminalName = activeTerminal.logs.replace(\"/logs/\", \"\").replace(\".json\", \"\");\r\n    const glitchEnabledTerminals = [\"blacksite-es1\", \"vennik-personal\", \"fuwnet\", \"sayelle-logs\", \"blacktalon\"];\r\n    \r\n    if (glitchEnabledTerminals.includes(terminalName)) {\r\n      const randomGlitch = () => {\r\n        if (Math.random() < 0.05) {\r\n          setSevereMalfunction(true);\r\n          \r\n          const glitchMessages = [\r\n            \"WARNING: SIGNAL INTEGRITY FAILING\",\r\n            \"CRC ERROR DETECTED IN DATA STREAM\",\r\n            \"QUANTUM FLUCTUATION DETECTED\",\r\n            \"TEMPORAL ANOMALY IN DATA BUFFER\",\r\n            \"WARNING: REALITY ANCHOR DESTABILIZING\",\r\n            \"SECURITY BREACH ATTEMPT DETECTED\"\r\n          ];\r\n          \r\n          setGlitchText(glitchMessages[Math.floor(Math.random() * glitchMessages.length)]);\r\n          \r\n          setTimeout(() => {\r\n            setSevereMalfunction(false);\r\n            setGlitchText(\"\");\r\n          }, 1500);\r\n        }\r\n      };\r\n      \r\n      const glitchInterval = setInterval(randomGlitch, 10000);\r\n      return () => clearInterval(glitchInterval);\r\n    }\r\n  }, [selectedLogData, activeTerminal]);\r\n\r\n  // Terminal access handler - ENHANCED\r\n  const handleAccessCode = (terminalName = null) => {\r\n    const codeToCheck = terminalName || inputCode;\r\n    \r\n    if (codeToCheck.trim().toLowerCase() === \"poop\") {\r\n      navigate(\"/poop\");\r\n      return;\r\n    }\r\n    \r\n    if (codeToCheck.trim() === \"01-1485-10-4-89-40\") {\r\n      navigate(\"/riftjaw\");\r\n      return;\r\n    }\r\n    \r\n    const terminal = terminals[codeToCheck];\r\n    if (terminal) {\r\n      // Add to accessed terminals\r\n      if (!accessedTerminals.includes(codeToCheck)) {\r\n        setAccessedTerminals(prev => [...prev, codeToCheck]);\r\n      }\r\n      \r\n      setActiveTerminal(terminal);\r\n      setCurrentView(\"terminal\");\r\n      \r\n      if (terminal.requiresPassword) {\r\n        setTerminalPasswordRequired(true);\r\n      } else if (terminal.requiresRoll) {\r\n        setRollCheck({ difficulty: terminal.requiresRoll });\r\n      } else {\r\n        fetchLogs(terminal.logs);\r\n      }\r\n    } else {\r\n      typeText(\"ACCESS DENIED. INVALID CODE.\", setTerminalData);\r\n    }\r\n    if (!terminalName) setInputCode(\"\");\r\n  };\r\n\r\n  // Network terminal selection handler\r\n  const handleNetworkTerminalSelect = (terminalId) => {\r\n    setInputCode(terminalId);\r\n    handleAccessCode(terminalId);\r\n  };\r\n\r\n  // Terminal password handler\r\n  const handleTerminalPasswordSubmit = () => {\r\n    if (activeTerminal && terminalPasswordInput === activeTerminal.password) {\r\n      setTerminalPasswordRequired(false);\r\n      fetchLogs(activeTerminal.logs);\r\n    } else {\r\n      const attempts = terminalPasswordAttempts + 1;\r\n      setTerminalPasswordAttempts(attempts);\r\n      setTerminalPasswordInput(\"\");\r\n      \r\n      if (attempts >= 3) {\r\n        setTerminalPasswordRequired(false);\r\n        \r\n        if (activeTerminal && activeTerminal.requiresRoll) {\r\n          setRollCheck({ difficulty: activeTerminal.requiresRoll });\r\n          typeText(\"Maximum password attempts reached. Attempting alternate access method...\", setTerminalData);\r\n        } else {\r\n          typeText(\"ACCESS DENIED. MAXIMUM ATTEMPTS REACHED.\", setTerminalData);\r\n          setTimeout(() => handleBackToInit(), 2000);\r\n        }\r\n      } else {\r\n        typeText(`ACCESS DENIED. INVALID PASSWORD. ${3 - attempts} attempts remaining.`, setTerminalData);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Roll check handler\r\n  const handleRollCheck = (passed) => {\r\n    if (passed) {\r\n      if (activeTerminal) {\r\n        fetchLogs(activeTerminal.logs);\r\n      } else {\r\n        typeText(\"ERROR: Terminal not found.\", setTerminalData);\r\n      }\r\n    } else {\r\n      typeText(\"ACCESS DENIED. INSUFFICIENT CLEARANCE.\", setTerminalData);\r\n    }\r\n    setRollCheck(null);\r\n  };\r\n\r\n  // Special roll check handler\r\n  const handleSpecialRollCheck = (passed) => {\r\n    if (passed) {\r\n      if (selectedLogData) {\r\n        if (selectedLogData.logs) {\r\n          setAudioLogsData(selectedLogData.logs);\r\n          setShowAudioLogsPage(true);\r\n        } else {\r\n          setDisplayedText(\"\");\r\n          setLogTypingComplete(false);\r\n          setCurrentView(\"log\");\r\n          \r\n          let message = \"\";\r\n          if (selectedLogData.roll_check && selectedLogData.roll_check.on_success) {\r\n            message = selectedLogData.roll_check.on_success + \"\\n\\n\";\r\n            message += `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\r\n          } else {\r\n            message = `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\r\n          }\r\n          \r\n          if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\r\n            const { level, isEclipseShard } = getCorruptionParams(message, activeTerminal.logs);\r\n            message = applyTextCorruption(message, level, isEclipseShard);\r\n          }\r\n          \r\n          const typeWithRef = (text, setState, callback = null, index = 0, delay = 30) => {\r\n            if (index < text.length) {\r\n              setState(prev => prev + text[index]);\r\n              typingRef.current = setTimeout(\r\n                () => typeWithRef(text, setState, callback, index + 1, delay), \r\n                delay\r\n              );\r\n            } else {\r\n              typingRef.current = null;\r\n              if (callback) callback();\r\n            }\r\n          };\r\n          \r\n          typeWithRef(message, setDisplayedText, () => {\r\n            setLogTypingComplete(true);\r\n          });\r\n        }\r\n      }\r\n    } else {\r\n      if (selectedLogData && selectedLogData.roll_check && selectedLogData.roll_check.on_failure) {\r\n        typeText(selectedLogData.roll_check.on_failure, setTerminalData);\r\n      } else {\r\n        typeText(\"ACCESS DENIED. INSUFFICIENT CLEARANCE.\", setTerminalData);\r\n      }\r\n      setSelectedLogData(null);\r\n    }\r\n    setSpecialRollCheck(null);\r\n    setPasswordAttempts(0);\r\n    setPasswordInput(\"\");\r\n  };\r\n\r\n  // Fetch logs from terminal\r\n  const fetchLogs = async (logPath) => {\r\n    try {\r\n      const response = await fetch(logPath);\r\n      const data = await response.json();\r\n      \r\n      if (Array.isArray(data)) {\r\n        setLogData(data);\r\n      } else {\r\n        // Handle special multi-level authentication\r\n        if (logPath.includes(\"01-1485-10-4-89-40\")) {\r\n          navigate(\"/riftjaw\");\r\n        } else {\r\n          setSelectedLogData(data);\r\n          setCurrentView(\"log\");\r\n          setDisplayedText(\"\");\r\n          setLogTypingComplete(false);\r\n          \r\n          let message = `Date: ${data.date}\\nAuthor: ${data.author}\\n\\n${data.content || \"No data available.\"}`;\r\n          \r\n          if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\r\n            const { level, isEclipseShard } = getCorruptionParams(message, activeTerminal.logs);\r\n            message = applyTextCorruption(message, level, isEclipseShard);\r\n          }\r\n          \r\n          const typeWithRef = (text, setState, callback = null, index = 0, delay = 30) => {\r\n            if (index < text.length) {\r\n              setState(prev => prev + text[index]);\r\n              typingRef.current = setTimeout(\r\n                () => typeWithRef(text, setState, callback, index + 1, delay), \r\n                delay\r\n              );\r\n            } else {\r\n              typingRef.current = null;\r\n              if (callback) callback();\r\n            }\r\n          };\r\n          \r\n          typeWithRef(message, setDisplayedText, () => {\r\n            setLogTypingComplete(true);\r\n          });\r\n        }\r\n      }\r\n    } catch (error) {\r\n      typeText(\"ERROR LOADING LOGS.\", setTerminalData);\r\n    }\r\n  };\r\n\r\n  // Handle log click\r\n  const handleLogClick = (log) => {\r\n    setSelectedLogData(log);\r\n    setCurrentView(\"log\");\r\n    setPasswordAttempts(0);\r\n    setPasswordInput(\"\");\r\n    \r\n    if (log.logs) {\r\n      if (log.requires_password) {\r\n        setRequiresPassword(true);\r\n      } else {\r\n        setAudioLogsData(log.logs);\r\n        setShowAudioLogsPage(true);\r\n      }\r\n    } else if (log.requires_password) {\r\n      setRequiresPassword(true);\r\n    } else {\r\n      if (log.requires_roll && log.roll_check && log.roll_check.difficulty >= 10) {\r\n        setSpecialRollCheck({ difficulty: log.roll_check.difficulty });\r\n      } else {\r\n        setDisplayedText(\"\");\r\n        setLogTypingComplete(false);\r\n        \r\n        let message = `Date: ${log.date}\\nAuthor: ${log.author}\\n\\n${log.content}`;\r\n        \r\n        if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\r\n          const { level, isEclipseShard } = getCorruptionParams(message, activeTerminal.logs);\r\n          message = applyTextCorruption(message, level, isEclipseShard);\r\n        }\r\n        \r\n        const typeWithRef = (text, setState, callback = null, index = 0, delay = 30) => {\r\n          if (index < text.length) {\r\n            setState(prev => prev + text[index]);\r\n            typingRef.current = setTimeout(\r\n              () => typeWithRef(text, setState, callback, index + 1, delay), \r\n              delay\r\n            );\r\n          } else {\r\n            typingRef.current = null;\r\n            if (callback) callback();\r\n          }\r\n        };\r\n        \r\n        typeWithRef(message, setDisplayedText, () => {\r\n          setLogTypingComplete(true);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  // Password submit handler\r\n  const handlePasswordSubmit = () => {\r\n    if (passwordInput === selectedLogData.password) {\r\n      setRequiresPassword(false);\r\n      \r\n      if (selectedLogData.logs) {\r\n        setAudioLogsData(selectedLogData.logs);\r\n        setShowAudioLogsPage(true);\r\n      } else {\r\n        setDisplayedText(\"\");\r\n        setLogTypingComplete(false);\r\n        \r\n        let message = `Date: ${selectedLogData.date}\\nAuthor: ${selectedLogData.author}\\n\\n${selectedLogData.content}`;\r\n        \r\n        if (activeTerminal && shouldCorruptContent(message, activeTerminal.logs)) {\r\n          const { level, isEclipseShard } = getCorruptionParams(message, activeTerminal.logs);\r\n          message = applyTextCorruption(message, level, isEclipseShard);\r\n        }\r\n        \r\n        typeText(message, setDisplayedText, () => {\r\n          setLogTypingComplete(true);\r\n        });\r\n      }\r\n    } else {\r\n      const attempts = passwordAttempts + 1;\r\n      setPasswordAttempts(attempts);\r\n      if (attempts >= (selectedLogData.attemptsAllowed || 3)) {\r\n        setRequiresPassword(false);\r\n        setSpecialRollCheck({ difficulty: selectedLogData.roll_check.difficulty });\r\n      } else {\r\n        typeText(\"Incorrect password. Please try again.\", setTerminalData);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Navigation handlers\r\n  const handleBackToTerminal = () => {\r\n    setSelectedLogData(null);\r\n    setDisplayedText(\"\");\r\n    setLogTypingComplete(false);\r\n    setCurrentView(\"terminal\");\r\n    if (typingRef.current) {\r\n      clearTimeout(typingRef.current);\r\n      typingRef.current = null;\r\n    }\r\n  };\r\n\r\n  const handleBackToInit = () => {\r\n    setLogData(null);\r\n    setActiveTerminal(null);\r\n    setTerminalData(\"\");\r\n    setCurrentView(\"init\");\r\n    setTerminalPasswordRequired(false);\r\n    setTerminalPasswordInput(\"\");\r\n    setTerminalPasswordAttempts(0);\r\n    setRequiresPassword(false);\r\n    setPasswordInput(\"\");\r\n    setPasswordAttempts(0);\r\n  };\r\n\r\n  // Audio logs page\r\n  if (showAudioLogsPage) {\r\n    return (\r\n      <div className=\"flex flex-col items-center min-h-screen bg-black p-4\">\r\n        <h1 className=\"text-green-400 font-mono text-xl my-4 terminal-flicker\">Encrypted Audio Logs</h1>\r\n        <div className=\"w-full max-w-md border-green-400 border-2 p-4 overflow-auto terminal-flicker\">\r\n          {audioLogsData.map((log, index) => (\r\n            <div key={index} style={{ marginBottom: \"20px\" }}>\r\n              <h2 className=\"text-green-400 font-mono\">{log.title}</h2>\r\n              <p className=\"text-green-400 font-mono\" style={{ whiteSpace: \"pre-wrap\" }}>{log.content}</p>\r\n              {log.audio_file && (\r\n                <audio\r\n                  controls\r\n                  style={{\r\n                    backgroundColor: \"black\",\r\n                    border: \"1px solid #33ff33\",\r\n                    borderRadius: \"5px\",\r\n                    width: \"100%\",\r\n                    marginTop: \"10px\",\r\n                    color: \"#33ff33\"\r\n                  }}\r\n                >\r\n                  <source src={log.audio_file} type=\"audio/mp3\" />\r\n                  Your browser does not support the audio element.\r\n                </audio>\r\n              )}\r\n            </div>\r\n          ))}\r\n          <Button\r\n            className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 mt-4\"\r\n            onClick={() => {\r\n              setShowAudioLogsPage(false);\r\n              setAudioLogsData([]);\r\n              setSelectedLogData(null);\r\n              setCurrentView(\"terminal\");\r\n            }}\r\n          >\r\n            Back\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Main render\r\n  return (\r\n    <div className=\"flex flex-col items-center min-h-screen bg-black p-2 sm:p-4\">\r\n      {currentView === \"init\" && (\r\n        <div\r\n          style={{\r\n            fontFamily: \"monospace\",\r\n            color: \"#33ff33\",\r\n            whiteSpace: \"pre-wrap\",\r\n            marginBottom: \"10px\",\r\n            textAlign: \"center\",\r\n            fontSize: \"12px\"\r\n          }}\r\n          className=\"terminal-flicker px-2 sm:text-sm lg:text-base\"\r\n        >\r\n          {initText}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Network Map - Show when terminals have been accessed */}\r\n      {currentView === \"init\" && accessedTerminals.length > 0 && (\r\n        <NetworkMap \r\n          accessedTerminals={accessedTerminals}\r\n          activeTerminal={activeTerminal}\r\n          onTerminalSelect={handleNetworkTerminalSelect}\r\n        />\r\n      )}\r\n      \r\n      <Card className=\"w-full max-w-sm sm:max-w-md lg:max-w-lg border-green-400 border-2\">\r\n        <CardContent className=\"p-3 sm:p-4 lg:p-6\">\r\n          <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 1 }}>\r\n            <div \r\n              className={`${activeTerminal ? getTerminalEffectClasses(activeTerminal.logs) : \"terminal terminal-flicker\"} sm:h-[300px] lg:h-[350px] sm:text-xs lg:text-sm`}\r\n              style={{ \r\n                overflow: \"auto\", \r\n                height: \"250px\",\r\n                position: \"relative\",\r\n                fontSize: \"11px\"\r\n              }}\r\n              ref={terminalRef}\r\n            >\r\n              {/* Severe malfunction overlay */}\r\n              {severeMalfunction && (\r\n                <div className=\"absolute inset-0 bg-black bg-opacity-70 flex items-center justify-center z-20\">\r\n                  <div className=\"text-red-500 font-mono text-sm sm:text-lg lg:text-xl severe-glitch p-2 sm:p-4 border border-red-500\">\r\n                    {glitchText}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              \r\n              {/* Terminal password prompt */}\r\n              {terminalPasswordRequired ? (\r\n                <div className=\"p-2\">\r\n                  <p className=\"mb-2\">Terminal requires password authentication.</p>\r\n                  <p className=\"mb-4\">Attempts remaining: {3 - terminalPasswordAttempts}</p>\r\n                  <div className=\"mt-4\">\r\n                    <Input\r\n                      className=\"bg-black text-green-400 border border-green-400 px-2 sm:px-3 py-2 font-mono focus:outline-none w-full text-xs sm:text-sm\"\r\n                      placeholder=\"Enter Password\"\r\n                      value={terminalPasswordInput}\r\n                      onChange={(e) => setTerminalPasswordInput(e.target.value)}\r\n                      type=\"password\"\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === \"Enter\") {\r\n                          handleTerminalPasswordSubmit();\r\n                        }\r\n                      }}\r\n                    />\r\n                    <div className=\"flex flex-col sm:flex-row gap-2 mt-2\">\r\n                      <Button\r\n                        className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                        onClick={handleTerminalPasswordSubmit}\r\n                      >\r\n                        Submit\r\n                      </Button>\r\n                      <Button\r\n                        className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                        onClick={handleBackToInit}\r\n                      >\r\n                        Back\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : specialRollCheck ? (\r\n                <div className=\"p-2\">\r\n                  <p className=\"mb-4 text-xs sm:text-sm\">\r\n                    Did you pass the {specialRollCheck.difficulty}+ check for{\" \"}\r\n                    {selectedLogData ? selectedLogData.title : \"this file\"}?\r\n                  </p>\r\n                  <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                    <Button\r\n                      className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                      onClick={() => handleSpecialRollCheck(true)}\r\n                    >\r\n                      Yes\r\n                    </Button>\r\n                    <Button\r\n                      className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                      onClick={() => handleSpecialRollCheck(false)}\r\n                    >\r\n                      No\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ) : rollCheck ? (\r\n                <div className=\"p-2\">\r\n                  <p className=\"mb-4 text-xs sm:text-sm\">\r\n                    Did you pass the {rollCheck.difficulty}+ Electronics (Computers) check?\r\n                  </p>\r\n                  <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                    <Button\r\n                      className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                      onClick={() => handleRollCheck(true)}\r\n                    >\r\n                      Yes\r\n                    </Button>\r\n                    <Button\r\n                      className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                      onClick={() => handleRollCheck(false)}\r\n                    >\r\n                      No\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ) : selectedLogData && requiresPassword ? (\r\n                <div className=\"p-2\">\r\n                  <div style={{ whiteSpace: \"pre-wrap\", marginBottom: \"10px\" }} className=\"text-xs sm:text-sm\">{displayedText}</div>\r\n                  <p className=\"mb-2 text-xs sm:text-sm\">\r\n                    Password required. Attempts remaining:{\" \"}\r\n                    {(selectedLogData.attemptsAllowed || 3) - passwordAttempts}\r\n                  </p>\r\n                  <Input\r\n                    className=\"bg-black text-green-400 border border-green-400 px-2 sm:px-3 py-2 font-mono focus:outline-none w-full text-xs sm:text-sm\"\r\n                    placeholder=\"Enter Password\"\r\n                    value={passwordInput}\r\n                    onChange={(e) => setPasswordInput(e.target.value)}\r\n                    type=\"password\"\r\n                    onKeyPress={(e) => {\r\n                      if (e.key === 'Enter') {\r\n                        handlePasswordSubmit();\r\n                      }\r\n                    }}\r\n                  />\r\n                  <div className=\"flex flex-col sm:flex-row gap-2 mt-2\">\r\n                    <Button\r\n                      className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                      onClick={handlePasswordSubmit}\r\n                    >\r\n                      Submit\r\n                    </Button>\r\n                    <Button\r\n                      className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 w-full sm:w-auto text-xs sm:text-sm\"\r\n                      onClick={handleBackToTerminal}\r\n                    >\r\n                      Back\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              ) : selectedLogData ? (\r\n                <div className=\"terminal-glitch p-2\">\r\n                  <div style={{ whiteSpace: \"pre-wrap\" }} className=\"text-xs sm:text-sm\">{displayedText}</div>\r\n                  {selectedLogData.audio_file && (\r\n                    <audio\r\n                      controls\r\n                      className=\"w-full mt-2\"\r\n                      style={{\r\n                        backgroundColor: \"black\",\r\n                        border: \"1px solid #33ff33\",\r\n                        borderRadius: \"5px\",\r\n                        color: \"#33ff33\"\r\n                      }}\r\n                    >\r\n                      <source src={selectedLogData.audio_file} type=\"audio/mp3\" />\r\n                      Your browser does not support the audio element.\r\n                    </audio>\r\n                  )}\r\n                  {logTypingComplete && (\r\n                    <Button\r\n                      className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 mt-2 w-full sm:w-auto text-xs sm:text-sm\"\r\n                      onClick={handleBackToTerminal}\r\n                    >\r\n                      Back\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              ) : logData ? (\r\n                <div className=\"p-2\">\r\n                  {logData.map((log, index) => (\r\n                    <p\r\n                      key={index}\r\n                      onClick={() => handleLogClick(log)}\r\n                      className=\"cursor-pointer underline py-2 sm:py-1 text-xs sm:text-sm hover:text-green-300\"\r\n                    >\r\n                      {log.title}\r\n                    </p>\r\n                  ))}\r\n                  <Button\r\n                    className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 mt-2 w-full sm:w-auto text-xs sm:text-sm\"\r\n                    onClick={handleBackToInit}\r\n                  >\r\n                    Back\r\n                  </Button>\r\n                </div>\r\n              ) : currentView === \"init\" && commandMode ? (\r\n                <div className=\"command-interface p-2\">\r\n                  <div className=\"command-output\" style={{ \r\n                    minHeight: '150px', \r\n                    maxHeight: '200px', \r\n                    overflowY: 'auto',\r\n                    marginBottom: '10px'\r\n                  }}>\r\n                    {commandOutput.map((entry, index) => (\r\n                      <div key={index} style={{ marginBottom: '10px' }} className=\"text-xs sm:text-sm\">\r\n                        <div style={{ color: '#33ff33' }}>&gt; {entry.command}</div>\r\n                        <div style={{ whiteSpace: 'pre-wrap', marginLeft: '10px' }}>\r\n                          {entry.output}\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                  <div className=\"command-prompt flex items-center\">\r\n                    <span className=\"mr-1 text-xs sm:text-sm\">&gt;</span>\r\n                    <Input\r\n                      className=\"bg-black text-green-400 border-0 px-0 py-0 font-mono focus:outline-none flex-grow text-xs sm:text-sm\"\r\n                      placeholder=\"Enter command...\"\r\n                      value={inputCode}\r\n                      onChange={(e) => setInputCode(e.target.value)}\r\n                      onKeyDown={handleCommandInput}\r\n                      autoFocus\r\n                    />\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <p className=\"glitch-text p-2 text-xs sm:text-sm\">\r\n                  {terminalData || \"ENTER ACCESS CODE TO PROCEED\"}\r\n                </p>\r\n              )}\r\n            </div>\r\n          </motion.div>\r\n          \r\n          {/* Input section */}\r\n          {currentView === \"init\" && (\r\n            <div className=\"mt-3 sm:mt-4\">\r\n              {/* Command mode toggle */}\r\n              <div className=\"command-mode-toggle mb-2 text-right\">\r\n                <Button\r\n                  className=\"bg-green-400 text-black font-mono px-2 py-1 rounded text-xs hover:bg-green-500\"\r\n                  onClick={() => {\r\n                    setCommandMode(!commandMode);\r\n                    setCommandOutput([]);\r\n                    setInputCode(\"\");\r\n                  }}\r\n                >\r\n                  {commandMode ? 'GUI MODE' : 'COMMAND MODE'}\r\n                </Button>\r\n              </div>\r\n              \r\n              {/* Regular input (only show if not in command mode) */}\r\n              {!commandMode && (\r\n                <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                  <Input\r\n                    className=\"bg-black text-green-400 border border-green-400 px-2 sm:px-3 py-2 font-mono focus:outline-none text-xs sm:text-sm flex-grow\"\r\n                    placeholder=\"Enter Access Code...\"\r\n                    value={inputCode}\r\n                    onChange={(e) => setInputCode(e.target.value)}\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === \"Enter\") {\r\n                        handleAccessCode();\r\n                      }\r\n                    }}\r\n                  />\r\n                  <Button\r\n                    className=\"bg-green-400 text-black font-mono px-4 py-2 rounded hover:bg-green-500 text-xs sm:text-sm w-full sm:w-auto\"\r\n                    onClick={handleAccessCode}\r\n                  >\r\n                    Enter\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}