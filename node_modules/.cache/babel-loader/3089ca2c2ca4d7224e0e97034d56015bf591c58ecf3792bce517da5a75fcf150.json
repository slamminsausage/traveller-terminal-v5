{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\James\\\\Desktop\\\\traveller-terminal-v5\\\\src\\\\components\\\\HiddenPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { Card, CardContent } from \"../ui/Card\";\nimport { Button } from \"../ui/Button\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport AudioManager from '../utils/AudioManager';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst typeText = (text, setState, callback = null, index = 0, delay = 30) => {\n  if (index < text.length) {\n    setState(prev => prev + text[index]);\n    setTimeout(() => typeText(text, setState, callback, index + 1, delay), delay);\n  } else {\n    if (callback) callback();\n  }\n};\n\n// Enhanced version with image and audio support for the hidden pages\nconst hiddenPages = {\n  \"eclipseshard\": {\n    title: \"Eclipse Shard Data Fragment\",\n    content: `CLASSIFIED INFORMATION - LYSANI LABS\nACCESS LEVEL: ALPHA\nSUBJECT: ECLIPSE SHARD\n\nInitial analysis of the Eclipse Shard reveals properties unlike any material previously cataloged. The crystalline structure appears to respond to both electrical stimulation and nearby cognitive activity.\n\nTest subjects exposed to the Shard for periods exceeding 30 minutes report sensory experiences that cannot be explained by conventional science. These include:\n- Heightened awareness of surrounding electromagnetic fields\n- Ability to perceive quantum fluctuations normally imperceptible to human senses\n- Recurring visions of a vast, dark space filled with geometric patterns\n\nWARNING: Extended exposure leads to neurological changes that persist after removal from proximity to the Shard. Subjects Trevar, Elara, and Voren all display these persistent effects, though each manifests differently.\n\nThe Shard appears to be a fragment of a larger whole. Theoretical models suggest a complete artifact would be capable of [DATA CORRUPTED]\n\nCRITICAL: Subject Trevar's final report indicates the Shard may be attempting communication. Before his disappearance, he left the following statement:\n\n\"It doesn't just change you. It opens doors in your mind that were never meant to be opened. And something is waiting on the other side.\"`,\n    audioFile: null,\n    showImage: false,\n    autoPlayAudio: false,\n    ambientType: 'corrupted'\n  },\n  \"blacktalonops\": {\n    title: \"Black Talon Operation Files\",\n    content: `BLACK TALON CARTEL\nOPERATION: MIDNIGHT HARVEST\n\nOBJECTIVE: Secure control of the Eclipse Shard and eliminate all witnesses.\n\nASSET STATUS:\n- Rax Vennik (Syndicate): Remains cooperative but unreliable. Believes we seek the Shard for profit. Unaware of true purpose.\n- Lysani Labs: Provides scientific expertise, but their corporate agenda conflicts with our goals. Monitor closely.\n- Operative Nex: Successfully infiltrated auction security. Will provide internal sabotage when required.\n\nTARGET PRIORITIES:\n1. Eclipse Shard recovery\n2. Elimination of all Vanagandr crew members\n3. Removal of Lysani Labs personnel with direct knowledge\n\nNOTE FROM COMMANDER:\nThe Vanagandr crew presents an anomaly. Standard memory suppression protocols have failed on multiple subjects. Their continued survival is problematic. The reappearance of their ship suggests the crew may have retained more knowledge than anticipated.\n\nRecommended course: Allow auction to proceed. Use chaos as cover for asset extraction. Leave no witnesses.`,\n    audioFile: null,\n    showImage: false,\n    autoPlayAudio: false,\n    ambientType: 'secure'\n  },\n  \"blacksite\": {\n    title: \"Blacksite ES1 Location Data\",\n    content: `LYSANI LABORATORIES\nINTERNAL MEMORANDUM\n\nBLACKSITE ES1 COORDINATES:\nHelix Nebula, Sector 7\nRelative coordinates: χ-882.45, γ-104.72, β-337.09\n\nAPPROACH PROTOCOL:\n- Drop from jump at minimum safe distance\n- Broadcast authentication code: SIGMA-VERMILLION-OBSIDIAN-PULSE\n- Maintain velocity below 0.15c until docking clearance\n- Any deviation will result in immediate defensive measures\n\nCURRENT STATUS: ACTIVE\nPRIMARY FUNCTION: Research Facility (Eclipse Shard Containment)\nSECONDARY FUNCTION: Specialized Subject Testing\n\nNOTES:\nThe anomalous effects of the Eclipse Shard appear to intensify within the unique gravitational conditions at this location. Subjects separated from the Shard experience withdrawal symptoms proportional to their previous exposure duration.\n\nSubject E. Trevar demonstrated the most promising compatibility with the Shard and remains in deep containment at the facility. His neural patterns now show 87% synchronization with the Shard's energy signature.`,\n    audioFile: null,\n    showImage: false,\n    autoPlayAudio: false,\n    ambientType: 'damaged'\n  },\n  \"sayelle\": {\n    title: \"Subject: Sayelle - Enhancement Records\",\n    content: `VENNIK SYNDICATE\nASSET ENHANCEMENT REPORT\n\nSUBJECT: SAYELLE\nDESIGNATION: BLOODHOUND\nSTATUS: ACTIVE\n\nCYBERNETIC ENHANCEMENTS:\n- Ocular System: Thermal/Night Vision, Tactical HUD, Facial Recognition\n- Neural Processor: Reflex Acceleration, Combat Analysis Matrix\n- Musculature: Carbon-Fiber Reinforcement, Adrenaline Regulation\n- Integumentary: Subdermal Armor Weave (70% Coverage)\n\nPSYCHOLOGICAL PROFILE:\nSubject exhibits intense fixation on assigned targets. Vengeance motivation remains strongest psychological driver. Personal vendetta against Vanagandr crew reinforces loyalty to Syndicate objectives.\n\nCOMBAT EVALUATION:\nSubject demonstrates exceptional tracking abilities and close-quarters elimination skills. Prefers psychological warfare tactics to destabilize targets before engagement.\n\nHANDLER NOTES:\nSayelle's survival on Neon was unexpected but ultimately beneficial. Her obsession with the Vanagandr crew has intensified following her near-death experience. This pathological focus makes her our most reliable asset for this operation.\n\nWARNING: Bloodhound operates with extreme prejudice. Collateral damage likely if target acquisition occurs in populated areas.`,\n    audioFile: null,\n    showImage: false,\n    autoPlayAudio: false,\n    ambientType: 'secure'\n  },\n  \"fuwnet\": {\n    title: \"Free Union of Workers - Resistance Network\",\n    content: `FUW ENCRYPTED NETWORK\nACCESS GRANTED - RESISTANCE HUB CONNECTED\n\nCOMRADES IN THE STRUGGLE,\n\nWelcome to the FUWNET secure communications channel. This network exists beyond corporate surveillance and connects all resistance cells across Brendis-7.\n\nCURRENT OPERATIONS:\n- Operation BROKEN CHAIN: Disruption of Vennik supply routes\n- Operation VOICE: Propaganda distribution in Old Caldonis\n- Operation UPRISING: Recruitment in manufacturing sectors\n\nEMERGENCY BROADCAST:\nIntelligence has confirmed that Rax Vennik is hosting a high-security auction at his warehouse complex. House Azura representatives will be present, along with other corporate interests. This presents a rare opportunity to strike multiple targets simultaneously.\n\nStrike team deployments are underway. All cell leaders, check secure drop points for updated instructions.\n\nALERT: INCREASED SURVEILLANCE\nCorporate security forces have increased patrols in the underworld district. Use caution when traveling between safehouses. Utilize only authorized transit routes marked in your mesh network updates.\n\nRemember the words of Daro Torren: \"They built their towers on our backs. Now we rise, and their towers will fall.\"\n\nENCRYPTED SIGNATURE:\nMira Torren\nStrike Core Command\n\n--- END TRANSMISSION ---\n\nTHE SCALE WILL BREAK`,\n    audioFile: \"/audio/SCRebelRadio.mp3\",\n    showImage: false,\n    autoPlayAudio: true,\n    ambientType: 'normal'\n  },\n  \"wantedboard\": {\n    title: \"BLACK WEB WANTED BOARD\",\n    content: `XENO-DARKNET SECURE ACCESS POINT\nVERIFICATION: COMPLETE\nDISPLAYING: HIGH-VALUE TARGET LIST\n\nTARGET DESIGNATION: VANAGANDR CREW\nBOUNTY STATUS: ACTIVE - 50,000 CREDITS PER HEAD (ALIVE PREFERRED)\nPRIORITY: MAXIMUM\nTHREAT ASSESSMENT: EXTREME CAUTION ADVISED`,\n    audioFile: null,\n    showImage: true,\n    autoPlayAudio: false,\n    ambientType: 'secure',\n    targetImages: {\n      \"KNUCK\": \"/images/wanted/knuck.jpg\",\n      \"SIR BRONCO\": \"/images/wanted/bronco.jpg\",\n      \"EZRA\": \"/images/wanted/ezra.jpg\",\n      \"AGATHON\": \"/images/wanted/agathon.jpg\"\n    },\n    targetData: {\n      \"KNUCK\": {\n        species: \"HUMAN\",\n        description: \"Male, approximate age 35-40, muscular build, extensive technical expertise\",\n        skills: \"Electronics specialist, security systems expert, exceptional hacking abilities\",\n        threat: \"HIGH\",\n        caution: \"Extremely resourceful with improvised weapons and security countermeasures\",\n        location: \"Eternium Starport, Brendis-7\",\n        notes: \"Target demonstrates tactical thinking and will prioritize electronic warfare. Approaches from multiple angles and understands surveillance technologies.\"\n      },\n      \"SIR BRONCO\": {\n        species: \"Vargr\",\n        description: \"Male, 50s, military bearing, distinctive formal speech patterns\",\n        skills: \"Combat specialist, tactical leadership, heavy weapons proficiency\",\n        threat: \"EXTREME\",\n        caution: \"Former military, likely special forces. Highly dangerous in direct confrontation\",\n        location: \"Eternium Starport, Brendis-7\",\n        notes: \"Target attempts to present as noble or chivalrous but is ruthlessly effective in combat. Will attempt to protect other crew members at personal risk. Recommend engagement only with overwhelming force or when isolated from group.\"\n      },\n      \"EZRA\": {\n        species: \"HUMAN\",\n        description: \"Male, mid-30s, lean build, observant demeanor, unusual sensory awareness\",\n        skills: \"Infiltration, perception, possible psionic abilities\",\n        threat: \"HIGH\",\n        caution: \"Demonstrates uncanny awareness of surroundings and hidden threats\",\n        location: \"Eternium Starport, Brendis-7\",\n        notes: \"Target appears to sense danger before it manifests. Surveillance operations against this subject frequently fail under unexplained circumstances. Approach with extreme caution and consider psionic dampening measures if available.\"\n      },\n      \"AGATHON\": {\n        species: \"HUMAN\",\n        description: \"Male, approx. 50, tall and wiry, known-celebrity of noble birth, calm under pressure\",\n        skills: \"Skilled in bladed combat, agile (ex-Promenade player), smooth talker\",\n        threat: \"MODERATE\",\n        caution: \"Appears non-threatening but remains poised and knows how to outmaneuver opponents\",\n        location: \"Eternium Starport, Brendis-7\",\n        notes: \"Target appears to be the defacto captain of the Vanagandr crew.\"\n      }\n    },\n    additionalInfo: `ADDITIONAL INFORMATION:\n- Targets travel as a semi-coordinated unit with complementary skills\n- All subjects survived Neon incident (details classified)\n- Likely have developed resistance to memory modification procedures\n- Unknown if they have any connection to Eclipse Shard\n- Potentially aware of Blacksite ES1 location\n\nCAPTURE PROTOCOL:\n1. Psychological destabilization recommended before engagement\n2. Separate targets when possible\n3. Utilize specialized containment for transport\n4. Do not underestimate resourcefulness\n5. Client requests intact neural systems preserved\n\nWARNING: These targets have repeatedly escaped situations with extremely low survival probability. Conventional tactical approaches may prove insufficient.\n\nPOSTING VERIFICATION: X-77291-ALPHA\nAUTHORIZED BY: [REDACTED]\nCONTACT: Secure transmission protocols only. Use encryption key SIGMA-VOID-ECHO-9.`\n  }\n};\nexport default function HiddenPage() {\n  _s();\n  const {\n    pageId\n  } = useParams();\n  const navigate = useNavigate();\n  const [displayedText, setDisplayedText] = useState(\"\");\n  const [textComplete, setTextComplete] = useState(false);\n  const [initText, setInitText] = useState(\"\");\n  const [isTyping, setIsTyping] = useState(false);\n  const [initComplete, setInitComplete] = useState(false);\n  const [escPressed, setEscPressed] = useState(0);\n  const [soundEnabled, setSoundEnabled] = useState(true);\n  const hasInitialized = useRef(false);\n  const terminalRef = useRef(null);\n  const typingRef = useRef({\n    active: false\n  });\n  const audioRef = useRef(null);\n  const pageData = hiddenPages[pageId] || {\n    title: \"ACCESS DENIED\",\n    content: \"This data fragment does not exist or has been corrupted.\",\n    audioFile: null,\n    showImage: false,\n    autoPlayAudio: false,\n    ambientType: 'normal'\n  };\n\n  // Initialize audio\n  useEffect(() => {\n    AudioManager.preloadSounds();\n\n    // Play ambient sound based on page type\n    const ambientType = pageData.ambientType || 'normal';\n    AudioManager.playAmbient(ambientType, 0.2);\n    return () => {\n      AudioManager.stopAmbient();\n    };\n  }, [pageData.ambientType]);\n\n  // Function to handle audio playback\n  const playAudio = () => {\n    if (audioRef.current && pageData.autoPlayAudio) {\n      audioRef.current.volume = 0.5;\n      audioRef.current.play().catch(error => {\n        console.log(\"Audio autoplay prevented by browser:\", error);\n      });\n    }\n  };\n\n  // Function to complete typing immediately\n  const completeTyping = () => {\n    if (isTyping) {\n      typingRef.current.active = false;\n      setIsTyping(false);\n      if (!initComplete) {\n        setInitText(prev => {\n          const currentText = prev;\n          const welcomeMessage = `\\nSECURE ACCESS GRANTED\\nRETRIEVING DATA FILE: ${pageData.title}\\n\\n`;\n          return currentText + welcomeMessage;\n        });\n        setInitComplete(true);\n        setDisplayedText(pageData.content);\n        setTextComplete(true);\n        playAudio();\n      } else {\n        setDisplayedText(pageData.content);\n        setTextComplete(true);\n      }\n    }\n  };\n\n  // Custom typeText that can be interrupted\n  const customTypeText = (text, setState, callback = null, index = 0, delay = 30) => {\n    setIsTyping(true);\n    typingRef.current.active = true;\n    if (index < text.length && typingRef.current.active) {\n      setState(prev => prev + text[index]);\n      // Play typing sound occasionally\n      if (soundEnabled && Math.random() > 0.95) {\n        AudioManager.playEffect('keypress', 0.05);\n      }\n      setTimeout(() => customTypeText(text, setState, callback, index + 1, delay), delay);\n    } else {\n      if (typingRef.current.active && callback) callback();\n      setIsTyping(false);\n      typingRef.current.active = false;\n    }\n  };\n\n  // Event listener for ESC key and mobile touch\n  useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.key === \"Escape\") {\n        setEscPressed(prev => {\n          if (prev === 0 && isTyping) {\n            completeTyping();\n            return 1;\n          } else if (prev >= 1 || !isTyping) {\n            AudioManager.playEffect('keypress', 0.2);\n            navigate(\"/\");\n            return 0;\n          }\n          return prev;\n        });\n      }\n    };\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  }, [isTyping, navigate]);\n\n  // Auto scroll function\n  useEffect(() => {\n    if (terminalRef.current) {\n      terminalRef.current.scrollTop = terminalRef.current.scrollHeight;\n    }\n  }, [displayedText, textComplete, initText]);\n\n  // Main initialization logic\n  useEffect(() => {\n    if (hasInitialized.current) return;\n    hasInitialized.current = true;\n\n    // Play access sound\n    AudioManager.playEffect('access_granted', 0.3);\n    const loadingMessages = [\"Establishing secure connection...\", \"Decrypting data stream...\", \"Authenticating access credentials...\", \"Security protocols bypassed.\"];\n    let i = 0;\n    const displayNextMessage = () => {\n      if (i < loadingMessages.length && typingRef.current.active) {\n        customTypeText(loadingMessages[i] + \"\\n\", setInitText, () => {\n          setInitText(prev => prev + \"\\n\");\n          i++;\n          displayNextMessage();\n        }, 0, 50);\n      } else if (typingRef.current.active) {\n        const welcomeMessage = `\\nSECURE ACCESS GRANTED\\n` + `RETRIEVING DATA FILE: ${pageData.title}\\n\\n`;\n        customTypeText(welcomeMessage, setInitText, () => {\n          setInitComplete(true);\n          // Play corruption sound for certain pages\n          if (pageId === 'eclipseshard' || pageId === 'blacksite') {\n            AudioManager.playEffect('corruption', 0.2);\n          }\n          customTypeText(pageData.content, setDisplayedText, () => {\n            setTextComplete(true);\n            playAudio();\n          });\n        }, 0, 50);\n      }\n    };\n    typingRef.current.active = true;\n    displayNextMessage();\n    return () => {\n      typingRef.current.active = false;\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current.currentTime = 0;\n      }\n    };\n  }, [pageId, pageData.title, pageData.content, pageData.autoPlayAudio, soundEnabled]);\n\n  // Rendering for wanted board with images - IMPROVED FOR MOBILE\n  const renderWantedBoard = () => {\n    if (!pageData.showImage || !pageData.targetImages) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: Object.entries(pageData.targetImages).map(([name, imagePath]) => {\n            const targetInfo = pageData.targetData && pageData.targetData[name];\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"border border-green-400 p-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-green-400 font-mono text-xs mb-2\",\n                children: [\"TARGET #\", Object.keys(pageData.targetImages).indexOf(name) + 1, \": \\\"\", name, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex flex-col sm:flex-row gap-2\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full sm:w-1/3\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: imagePath,\n                    alt: `Wanted: ${name}`,\n                    className: \"w-full h-32 sm:h-40 object-cover border border-green-400\",\n                    onError: e => {\n                      e.target.onerror = null;\n                      e.target.src = \"/images/wanted/placeholder.jpg\";\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 438,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-full sm:w-2/3 text-green-400 font-mono text-xs space-y-1\",\n                  children: targetInfo && /*#__PURE__*/_jsxDEV(_Fragment, {\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-300\",\n                        children: \"SPECIES:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 451,\n                        columnNumber: 34\n                      }, this), \" \", targetInfo.species]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 451,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-300\",\n                        children: \"DESCRIPTION:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 452,\n                        columnNumber: 34\n                      }, this), \" \", targetInfo.description]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 452,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-300\",\n                        children: \"KNOWN SKILLS:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 453,\n                        columnNumber: 34\n                      }, this), \" \", targetInfo.skills]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-300\",\n                        children: \"THREAT LEVEL:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 34\n                      }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: targetInfo.threat === 'EXTREME' ? 'text-red-400' : 'text-yellow-400',\n                        children: targetInfo.threat\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 88\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 454,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-300\",\n                        children: \"CAUTION:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 455,\n                        columnNumber: 34\n                      }, this), \" \", targetInfo.caution]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 455,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-300\",\n                        children: \"LAST KNOWN:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 456,\n                        columnNumber: 34\n                      }, this), \" \", targetInfo.location]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-green-300\",\n                        children: \"NOTES:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 34\n                      }, this), \" \", targetInfo.notes]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 457,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 21\n              }, this)]\n            }, name, true, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 13\n        }, this), pageData.additionalInfo && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-6 border border-green-400 p-3 text-green-400 font-mono text-xs\",\n          children: /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"whitespace-pre-wrap\",\n            children: pageData.additionalInfo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 9\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center min-h-screen bg-black p-2 sm:p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed top-2 left-2 z-50\",\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        className: \"bg-green-400 text-black font-mono px-2 py-1 rounded text-xs hover:bg-green-500\",\n        onClick: () => {\n          const isMuted = AudioManager.toggleMute();\n          setSoundEnabled(!isMuted);\n        },\n        children: soundEnabled ? '🔊' : '🔇'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 481,\n      columnNumber: 9\n    }, this), pageData.audioFile && /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      src: pageData.audioFile,\n      loop: false,\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 495,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-lg flex flex-col\",\n      style: {\n        maxHeight: '100vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        className: \"border-green-400 border-2 flex-1 flex flex-col\",\n        children: /*#__PURE__*/_jsxDEV(CardContent, {\n          className: \"p-3 sm:p-4 flex flex-col h-full\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"terminal overflow-y-auto flex-1 terminal-flicker\",\n            ref: terminalRef,\n            style: {\n              fontSize: \"11px\",\n              minHeight: \"200px\"\n            },\n            children: [initText && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-400 font-mono whitespace-pre-wrap mb-2\",\n              children: [initText, isTyping && !initComplete && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"blinking-cursor\",\n                children: \"\\u258C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 51\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                whiteSpace: \"pre-wrap\"\n              },\n              children: [displayedText, isTyping && initComplete && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"blinking-cursor\",\n                children: \"\\u258C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 525,\n                columnNumber: 48\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 523,\n              columnNumber: 17\n            }, this), textComplete && pageData.showImage && renderWantedBoard(), pageData.audioFile && textComplete && !pageData.autoPlayAudio && /*#__PURE__*/_jsxDEV(\"audio\", {\n              controls: true,\n              className: \"w-full mt-4\",\n              style: {\n                backgroundColor: \"black\",\n                border: \"1px solid #33ff33\",\n                borderRadius: \"5px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"source\", {\n                src: pageData.audioFile,\n                type: \"audio/mp3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 542,\n                columnNumber: 21\n              }, this), \"Your browser does not support the audio element.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 flex flex-col sm:flex-row justify-between items-center gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => {\n                AudioManager.playEffect('keypress', 0.2);\n                navigate(\"/\");\n              },\n              className: \"w-full sm:w-auto text-xs\",\n              children: \"RETURN TO MAIN TERMINAL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 550,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-400 text-xs text-center sm:text-right\",\n              children: isTyping ? /*#__PURE__*/_jsxDEV(\"span\", {\n                onClick: completeTyping,\n                className: \"cursor-pointer\",\n                children: \"Tap to skip typing\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 562,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Tap button to return\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 560,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 479,\n    columnNumber: 7\n  }, this);\n}\n_s(HiddenPage, \"SGiBNVe7a1Cldzh3dmndbFXzhws=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = HiddenPage;\n;\nvar _c;\n$RefreshReg$(_c, \"HiddenPage\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Card","CardContent","Button","useParams","useNavigate","AudioManager","jsxDEV","_jsxDEV","Fragment","_Fragment","typeText","text","setState","callback","index","delay","length","prev","setTimeout","hiddenPages","title","content","audioFile","showImage","autoPlayAudio","ambientType","targetImages","targetData","species","description","skills","threat","caution","location","notes","additionalInfo","HiddenPage","_s","pageId","navigate","displayedText","setDisplayedText","textComplete","setTextComplete","initText","setInitText","isTyping","setIsTyping","initComplete","setInitComplete","escPressed","setEscPressed","soundEnabled","setSoundEnabled","hasInitialized","terminalRef","typingRef","active","audioRef","pageData","preloadSounds","playAmbient","stopAmbient","playAudio","current","volume","play","catch","error","console","log","completeTyping","currentText","welcomeMessage","customTypeText","Math","random","playEffect","handleKeyDown","e","key","window","addEventListener","removeEventListener","scrollTop","scrollHeight","loadingMessages","i","displayNextMessage","pause","currentTime","renderWantedBoard","className","children","Object","entries","map","name","imagePath","targetInfo","keys","indexOf","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onError","target","onerror","onClick","isMuted","toggleMute","ref","loop","style","display","maxHeight","fontSize","minHeight","whiteSpace","controls","backgroundColor","border","borderRadius","type","_c","$RefreshReg$"],"sources":["C:/Users/James/Desktop/traveller-terminal-v5/src/components/HiddenPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Card, CardContent } from \"../ui/Card\";\r\nimport { Button } from \"../ui/Button\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport AudioManager from '../utils/AudioManager';\r\n\r\nconst typeText = (text, setState, callback = null, index = 0, delay = 30) => {\r\n  if (index < text.length) {\r\n    setState(prev => prev + text[index]);\r\n    setTimeout(() => typeText(text, setState, callback, index + 1, delay), delay);\r\n  } else {\r\n    if (callback) callback();\r\n  }\r\n};\r\n\r\n// Enhanced version with image and audio support for the hidden pages\r\nconst hiddenPages = {\r\n  \"eclipseshard\": {\r\n    title: \"Eclipse Shard Data Fragment\",\r\n    content: `CLASSIFIED INFORMATION - LYSANI LABS\r\nACCESS LEVEL: ALPHA\r\nSUBJECT: ECLIPSE SHARD\r\n\r\nInitial analysis of the Eclipse Shard reveals properties unlike any material previously cataloged. The crystalline structure appears to respond to both electrical stimulation and nearby cognitive activity.\r\n\r\nTest subjects exposed to the Shard for periods exceeding 30 minutes report sensory experiences that cannot be explained by conventional science. These include:\r\n- Heightened awareness of surrounding electromagnetic fields\r\n- Ability to perceive quantum fluctuations normally imperceptible to human senses\r\n- Recurring visions of a vast, dark space filled with geometric patterns\r\n\r\nWARNING: Extended exposure leads to neurological changes that persist after removal from proximity to the Shard. Subjects Trevar, Elara, and Voren all display these persistent effects, though each manifests differently.\r\n\r\nThe Shard appears to be a fragment of a larger whole. Theoretical models suggest a complete artifact would be capable of [DATA CORRUPTED]\r\n\r\nCRITICAL: Subject Trevar's final report indicates the Shard may be attempting communication. Before his disappearance, he left the following statement:\r\n\r\n\"It doesn't just change you. It opens doors in your mind that were never meant to be opened. And something is waiting on the other side.\"`,\r\n    audioFile: null,\r\n    showImage: false,\r\n    autoPlayAudio: false,\r\n    ambientType: 'corrupted'\r\n  },\r\n  \"blacktalonops\": {\r\n    title: \"Black Talon Operation Files\",\r\n    content: `BLACK TALON CARTEL\r\nOPERATION: MIDNIGHT HARVEST\r\n\r\nOBJECTIVE: Secure control of the Eclipse Shard and eliminate all witnesses.\r\n\r\nASSET STATUS:\r\n- Rax Vennik (Syndicate): Remains cooperative but unreliable. Believes we seek the Shard for profit. Unaware of true purpose.\r\n- Lysani Labs: Provides scientific expertise, but their corporate agenda conflicts with our goals. Monitor closely.\r\n- Operative Nex: Successfully infiltrated auction security. Will provide internal sabotage when required.\r\n\r\nTARGET PRIORITIES:\r\n1. Eclipse Shard recovery\r\n2. Elimination of all Vanagandr crew members\r\n3. Removal of Lysani Labs personnel with direct knowledge\r\n\r\nNOTE FROM COMMANDER:\r\nThe Vanagandr crew presents an anomaly. Standard memory suppression protocols have failed on multiple subjects. Their continued survival is problematic. The reappearance of their ship suggests the crew may have retained more knowledge than anticipated.\r\n\r\nRecommended course: Allow auction to proceed. Use chaos as cover for asset extraction. Leave no witnesses.`,\r\n    audioFile: null,\r\n    showImage: false,\r\n    autoPlayAudio: false,\r\n    ambientType: 'secure'\r\n  },\r\n  \"blacksite\": {\r\n    title: \"Blacksite ES1 Location Data\",\r\n    content: `LYSANI LABORATORIES\r\nINTERNAL MEMORANDUM\r\n\r\nBLACKSITE ES1 COORDINATES:\r\nHelix Nebula, Sector 7\r\nRelative coordinates: χ-882.45, γ-104.72, β-337.09\r\n\r\nAPPROACH PROTOCOL:\r\n- Drop from jump at minimum safe distance\r\n- Broadcast authentication code: SIGMA-VERMILLION-OBSIDIAN-PULSE\r\n- Maintain velocity below 0.15c until docking clearance\r\n- Any deviation will result in immediate defensive measures\r\n\r\nCURRENT STATUS: ACTIVE\r\nPRIMARY FUNCTION: Research Facility (Eclipse Shard Containment)\r\nSECONDARY FUNCTION: Specialized Subject Testing\r\n\r\nNOTES:\r\nThe anomalous effects of the Eclipse Shard appear to intensify within the unique gravitational conditions at this location. Subjects separated from the Shard experience withdrawal symptoms proportional to their previous exposure duration.\r\n\r\nSubject E. Trevar demonstrated the most promising compatibility with the Shard and remains in deep containment at the facility. His neural patterns now show 87% synchronization with the Shard's energy signature.`,\r\n    audioFile: null,\r\n    showImage: false,\r\n    autoPlayAudio: false,\r\n    ambientType: 'damaged'\r\n  },\r\n  \"sayelle\": {\r\n    title: \"Subject: Sayelle - Enhancement Records\",\r\n    content: `VENNIK SYNDICATE\r\nASSET ENHANCEMENT REPORT\r\n\r\nSUBJECT: SAYELLE\r\nDESIGNATION: BLOODHOUND\r\nSTATUS: ACTIVE\r\n\r\nCYBERNETIC ENHANCEMENTS:\r\n- Ocular System: Thermal/Night Vision, Tactical HUD, Facial Recognition\r\n- Neural Processor: Reflex Acceleration, Combat Analysis Matrix\r\n- Musculature: Carbon-Fiber Reinforcement, Adrenaline Regulation\r\n- Integumentary: Subdermal Armor Weave (70% Coverage)\r\n\r\nPSYCHOLOGICAL PROFILE:\r\nSubject exhibits intense fixation on assigned targets. Vengeance motivation remains strongest psychological driver. Personal vendetta against Vanagandr crew reinforces loyalty to Syndicate objectives.\r\n\r\nCOMBAT EVALUATION:\r\nSubject demonstrates exceptional tracking abilities and close-quarters elimination skills. Prefers psychological warfare tactics to destabilize targets before engagement.\r\n\r\nHANDLER NOTES:\r\nSayelle's survival on Neon was unexpected but ultimately beneficial. Her obsession with the Vanagandr crew has intensified following her near-death experience. This pathological focus makes her our most reliable asset for this operation.\r\n\r\nWARNING: Bloodhound operates with extreme prejudice. Collateral damage likely if target acquisition occurs in populated areas.`,\r\n    audioFile: null,\r\n    showImage: false,\r\n    autoPlayAudio: false,\r\n    ambientType: 'secure'\r\n  },\r\n  \"fuwnet\": {\r\n    title: \"Free Union of Workers - Resistance Network\",\r\n    content: `FUW ENCRYPTED NETWORK\r\nACCESS GRANTED - RESISTANCE HUB CONNECTED\r\n\r\nCOMRADES IN THE STRUGGLE,\r\n\r\nWelcome to the FUWNET secure communications channel. This network exists beyond corporate surveillance and connects all resistance cells across Brendis-7.\r\n\r\nCURRENT OPERATIONS:\r\n- Operation BROKEN CHAIN: Disruption of Vennik supply routes\r\n- Operation VOICE: Propaganda distribution in Old Caldonis\r\n- Operation UPRISING: Recruitment in manufacturing sectors\r\n\r\nEMERGENCY BROADCAST:\r\nIntelligence has confirmed that Rax Vennik is hosting a high-security auction at his warehouse complex. House Azura representatives will be present, along with other corporate interests. This presents a rare opportunity to strike multiple targets simultaneously.\r\n\r\nStrike team deployments are underway. All cell leaders, check secure drop points for updated instructions.\r\n\r\nALERT: INCREASED SURVEILLANCE\r\nCorporate security forces have increased patrols in the underworld district. Use caution when traveling between safehouses. Utilize only authorized transit routes marked in your mesh network updates.\r\n\r\nRemember the words of Daro Torren: \"They built their towers on our backs. Now we rise, and their towers will fall.\"\r\n\r\nENCRYPTED SIGNATURE:\r\nMira Torren\r\nStrike Core Command\r\n\r\n--- END TRANSMISSION ---\r\n\r\nTHE SCALE WILL BREAK`,\r\n    audioFile: \"/audio/SCRebelRadio.mp3\",\r\n    showImage: false,\r\n    autoPlayAudio: true,\r\n    ambientType: 'normal'\r\n  },\r\n  \"wantedboard\": {\r\n    title: \"BLACK WEB WANTED BOARD\",\r\n    content: `XENO-DARKNET SECURE ACCESS POINT\r\nVERIFICATION: COMPLETE\r\nDISPLAYING: HIGH-VALUE TARGET LIST\r\n\r\nTARGET DESIGNATION: VANAGANDR CREW\r\nBOUNTY STATUS: ACTIVE - 50,000 CREDITS PER HEAD (ALIVE PREFERRED)\r\nPRIORITY: MAXIMUM\r\nTHREAT ASSESSMENT: EXTREME CAUTION ADVISED`,\r\n    audioFile: null,\r\n    showImage: true,\r\n    autoPlayAudio: false,\r\n    ambientType: 'secure',\r\n    targetImages: {\r\n      \"KNUCK\": \"/images/wanted/knuck.jpg\",\r\n      \"SIR BRONCO\": \"/images/wanted/bronco.jpg\", \r\n      \"EZRA\": \"/images/wanted/ezra.jpg\",\r\n      \"AGATHON\": \"/images/wanted/agathon.jpg\"\r\n    },\r\n    targetData: {\r\n      \"KNUCK\": {\r\n        species: \"HUMAN\",\r\n        description: \"Male, approximate age 35-40, muscular build, extensive technical expertise\",\r\n        skills: \"Electronics specialist, security systems expert, exceptional hacking abilities\",\r\n        threat: \"HIGH\",\r\n        caution: \"Extremely resourceful with improvised weapons and security countermeasures\",\r\n        location: \"Eternium Starport, Brendis-7\",\r\n        notes: \"Target demonstrates tactical thinking and will prioritize electronic warfare. Approaches from multiple angles and understands surveillance technologies.\"\r\n      },\r\n      \"SIR BRONCO\": {\r\n        species: \"Vargr\",\r\n        description: \"Male, 50s, military bearing, distinctive formal speech patterns\",\r\n        skills: \"Combat specialist, tactical leadership, heavy weapons proficiency\",\r\n        threat: \"EXTREME\",\r\n        caution: \"Former military, likely special forces. Highly dangerous in direct confrontation\",\r\n        location: \"Eternium Starport, Brendis-7\",\r\n        notes: \"Target attempts to present as noble or chivalrous but is ruthlessly effective in combat. Will attempt to protect other crew members at personal risk. Recommend engagement only with overwhelming force or when isolated from group.\"\r\n      },\r\n      \"EZRA\": {\r\n        species: \"HUMAN\",\r\n        description: \"Male, mid-30s, lean build, observant demeanor, unusual sensory awareness\",\r\n        skills: \"Infiltration, perception, possible psionic abilities\",\r\n        threat: \"HIGH\",\r\n        caution: \"Demonstrates uncanny awareness of surroundings and hidden threats\",\r\n        location: \"Eternium Starport, Brendis-7\",\r\n        notes: \"Target appears to sense danger before it manifests. Surveillance operations against this subject frequently fail under unexplained circumstances. Approach with extreme caution and consider psionic dampening measures if available.\"\r\n      },\r\n      \"AGATHON\": {\r\n        species: \"HUMAN\",\r\n        description: \"Male, approx. 50, tall and wiry, known-celebrity of noble birth, calm under pressure\",\r\n        skills: \"Skilled in bladed combat, agile (ex-Promenade player), smooth talker\",\r\n        threat: \"MODERATE\",\r\n        caution: \"Appears non-threatening but remains poised and knows how to outmaneuver opponents\",\r\n        location: \"Eternium Starport, Brendis-7\",\r\n        notes: \"Target appears to be the defacto captain of the Vanagandr crew.\"\r\n      }\r\n    },\r\n    additionalInfo: `ADDITIONAL INFORMATION:\r\n- Targets travel as a semi-coordinated unit with complementary skills\r\n- All subjects survived Neon incident (details classified)\r\n- Likely have developed resistance to memory modification procedures\r\n- Unknown if they have any connection to Eclipse Shard\r\n- Potentially aware of Blacksite ES1 location\r\n\r\nCAPTURE PROTOCOL:\r\n1. Psychological destabilization recommended before engagement\r\n2. Separate targets when possible\r\n3. Utilize specialized containment for transport\r\n4. Do not underestimate resourcefulness\r\n5. Client requests intact neural systems preserved\r\n\r\nWARNING: These targets have repeatedly escaped situations with extremely low survival probability. Conventional tactical approaches may prove insufficient.\r\n\r\nPOSTING VERIFICATION: X-77291-ALPHA\r\nAUTHORIZED BY: [REDACTED]\r\nCONTACT: Secure transmission protocols only. Use encryption key SIGMA-VOID-ECHO-9.`\r\n  }\r\n}\r\n\r\nexport default function HiddenPage() {\r\n    const { pageId } = useParams();\r\n    const navigate = useNavigate();\r\n    const [displayedText, setDisplayedText] = useState(\"\");\r\n    const [textComplete, setTextComplete] = useState(false);\r\n    const [initText, setInitText] = useState(\"\");\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const [initComplete, setInitComplete] = useState(false);\r\n    const [escPressed, setEscPressed] = useState(0);\r\n    const [soundEnabled, setSoundEnabled] = useState(true);\r\n    \r\n    const hasInitialized = useRef(false);\r\n    const terminalRef = useRef(null);\r\n    const typingRef = useRef({ active: false });\r\n    const audioRef = useRef(null);\r\n    \r\n    const pageData = hiddenPages[pageId] || {\r\n      title: \"ACCESS DENIED\",\r\n      content: \"This data fragment does not exist or has been corrupted.\",\r\n      audioFile: null,\r\n      showImage: false,\r\n      autoPlayAudio: false,\r\n      ambientType: 'normal'\r\n    };\r\n  \r\n    // Initialize audio\r\n    useEffect(() => {\r\n      AudioManager.preloadSounds();\r\n      \r\n      // Play ambient sound based on page type\r\n      const ambientType = pageData.ambientType || 'normal';\r\n      AudioManager.playAmbient(ambientType, 0.2);\r\n      \r\n      return () => {\r\n        AudioManager.stopAmbient();\r\n      };\r\n    }, [pageData.ambientType]);\r\n  \r\n    // Function to handle audio playback\r\n    const playAudio = () => {\r\n      if (audioRef.current && pageData.autoPlayAudio) {\r\n        audioRef.current.volume = 0.5;\r\n        audioRef.current.play().catch(error => {\r\n          console.log(\"Audio autoplay prevented by browser:\", error);\r\n        });\r\n      }\r\n    };\r\n  \r\n    // Function to complete typing immediately\r\n    const completeTyping = () => {\r\n      if (isTyping) {\r\n        typingRef.current.active = false;\r\n        setIsTyping(false);\r\n        \r\n        if (!initComplete) {\r\n          setInitText(prev => {\r\n            const currentText = prev;\r\n            const welcomeMessage = `\\nSECURE ACCESS GRANTED\\nRETRIEVING DATA FILE: ${pageData.title}\\n\\n`;\r\n            return currentText + welcomeMessage;\r\n          });\r\n          setInitComplete(true);\r\n          \r\n          setDisplayedText(pageData.content);\r\n          setTextComplete(true);\r\n          \r\n          playAudio();\r\n        } else {\r\n          setDisplayedText(pageData.content);\r\n          setTextComplete(true);\r\n        }\r\n      }\r\n    };\r\n  \r\n    // Custom typeText that can be interrupted\r\n    const customTypeText = (text, setState, callback = null, index = 0, delay = 30) => {\r\n      setIsTyping(true);\r\n      typingRef.current.active = true;\r\n      \r\n      if (index < text.length && typingRef.current.active) {\r\n        setState(prev => prev + text[index]);\r\n        // Play typing sound occasionally\r\n        if (soundEnabled && Math.random() > 0.95) {\r\n          AudioManager.playEffect('keypress', 0.05);\r\n        }\r\n        setTimeout(() => customTypeText(text, setState, callback, index + 1, delay), delay);\r\n      } else {\r\n        if (typingRef.current.active && callback) callback();\r\n        setIsTyping(false);\r\n        typingRef.current.active = false;\r\n      }\r\n    };\r\n  \r\n    // Event listener for ESC key and mobile touch\r\n    useEffect(() => {\r\n      const handleKeyDown = (e) => {\r\n        if (e.key === \"Escape\") {\r\n          setEscPressed(prev => {\r\n            if (prev === 0 && isTyping) {\r\n              completeTyping();\r\n              return 1;\r\n            } \r\n            else if (prev >= 1 || !isTyping) {\r\n              AudioManager.playEffect('keypress', 0.2);\r\n              navigate(\"/\");\r\n              return 0;\r\n            }\r\n            return prev;\r\n          });\r\n        }\r\n      };\r\n      \r\n      window.addEventListener(\"keydown\", handleKeyDown);\r\n      return () => {\r\n        window.removeEventListener(\"keydown\", handleKeyDown);\r\n      };\r\n    }, [isTyping, navigate]);\r\n  \r\n    // Auto scroll function\r\n    useEffect(() => {\r\n      if (terminalRef.current) {\r\n        terminalRef.current.scrollTop = terminalRef.current.scrollHeight;\r\n      }\r\n    }, [displayedText, textComplete, initText]);\r\n  \r\n    // Main initialization logic\r\n    useEffect(() => {\r\n      if (hasInitialized.current) return;\r\n      hasInitialized.current = true;\r\n  \r\n      // Play access sound\r\n      AudioManager.playEffect('access_granted', 0.3);\r\n      \r\n      const loadingMessages = [\r\n        \"Establishing secure connection...\",\r\n        \"Decrypting data stream...\",\r\n        \"Authenticating access credentials...\",\r\n        \"Security protocols bypassed.\"\r\n      ];\r\n      \r\n      let i = 0;\r\n      const displayNextMessage = () => {\r\n        if (i < loadingMessages.length && typingRef.current.active) {\r\n          customTypeText(loadingMessages[i] + \"\\n\", setInitText, () => {\r\n            setInitText(prev => prev + \"\\n\");\r\n            i++;\r\n            displayNextMessage();\r\n          }, 0, 50);\r\n        } else if (typingRef.current.active) {\r\n          const welcomeMessage = \r\n            `\\nSECURE ACCESS GRANTED\\n` +\r\n            `RETRIEVING DATA FILE: ${pageData.title}\\n\\n`;\r\n          customTypeText(welcomeMessage, setInitText, () => {\r\n            setInitComplete(true);\r\n            // Play corruption sound for certain pages\r\n            if (pageId === 'eclipseshard' || pageId === 'blacksite') {\r\n              AudioManager.playEffect('corruption', 0.2);\r\n            }\r\n            customTypeText(pageData.content, setDisplayedText, () => {\r\n              setTextComplete(true);\r\n              playAudio();\r\n            });\r\n          }, 0, 50);\r\n        }\r\n      };\r\n      \r\n      typingRef.current.active = true;\r\n      displayNextMessage();\r\n      \r\n      return () => {\r\n        typingRef.current.active = false;\r\n        if (audioRef.current) {\r\n          audioRef.current.pause();\r\n          audioRef.current.currentTime = 0;\r\n        }\r\n      };\r\n    }, [pageId, pageData.title, pageData.content, pageData.autoPlayAudio, soundEnabled]);\r\n  \r\n       // Rendering for wanted board with images - IMPROVED FOR MOBILE\r\n    const renderWantedBoard = () => {\r\n      if (!pageData.showImage || !pageData.targetImages) return null;\r\n      \r\n      return (\r\n        <div className=\"mt-4\">\r\n          <div className=\"pt-4\">\r\n            <div className=\"space-y-4\">\r\n              {Object.entries(pageData.targetImages).map(([name, imagePath]) => {\r\n                const targetInfo = pageData.targetData && pageData.targetData[name];\r\n                \r\n                return (\r\n                  <div key={name} className=\"border border-green-400 p-2\">\r\n                    <div className=\"text-green-400 font-mono text-xs mb-2\">\r\n                      TARGET #{Object.keys(pageData.targetImages).indexOf(name) + 1}: \"{name}\"\r\n                    </div>\r\n                    <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                      <div className=\"w-full sm:w-1/3\">\r\n                        <img \r\n                          src={imagePath} \r\n                          alt={`Wanted: ${name}`} \r\n                          className=\"w-full h-32 sm:h-40 object-cover border border-green-400\" \r\n                          onError={(e) => {\r\n                            e.target.onerror = null;\r\n                            e.target.src = \"/images/wanted/placeholder.jpg\";\r\n                          }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"w-full sm:w-2/3 text-green-400 font-mono text-xs space-y-1\">\r\n                        {targetInfo && (\r\n                          <>\r\n                            <div><span className=\"text-green-300\">SPECIES:</span> {targetInfo.species}</div>\r\n                            <div><span className=\"text-green-300\">DESCRIPTION:</span> {targetInfo.description}</div>\r\n                            <div><span className=\"text-green-300\">KNOWN SKILLS:</span> {targetInfo.skills}</div>\r\n                            <div><span className=\"text-green-300\">THREAT LEVEL:</span> <span className={targetInfo.threat === 'EXTREME' ? 'text-red-400' : 'text-yellow-400'}>{targetInfo.threat}</span></div>\r\n                            <div><span className=\"text-green-300\">CAUTION:</span> {targetInfo.caution}</div>\r\n                            <div><span className=\"text-green-300\">LAST KNOWN:</span> {targetInfo.location}</div>\r\n                            <div><span className=\"text-green-300\">NOTES:</span> {targetInfo.notes}</div>\r\n                          </>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n            \r\n            {/* Additional Information Section */}\r\n            {pageData.additionalInfo && (\r\n              <div className=\"mt-6 border border-green-400 p-3 text-green-400 font-mono text-xs\">\r\n                <pre className=\"whitespace-pre-wrap\">{pageData.additionalInfo}</pre>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n  \r\n    return (\r\n      <div className=\"flex flex-col items-center min-h-screen bg-black p-2 sm:p-4\">\r\n        {/* Sound Toggle Button */}\r\n        <div className=\"fixed top-2 left-2 z-50\">\r\n          <Button\r\n            className=\"bg-green-400 text-black font-mono px-2 py-1 rounded text-xs hover:bg-green-500\"\r\n            onClick={() => {\r\n              const isMuted = AudioManager.toggleMute();\r\n              setSoundEnabled(!isMuted);\r\n            }}\r\n          >\r\n            {soundEnabled ? '🔊' : '🔇'}\r\n          </Button>\r\n        </div>\r\n        \r\n        {/* Hidden audio element that can autoplay */}\r\n        {pageData.audioFile && (\r\n          <audio\r\n            ref={audioRef}\r\n            src={pageData.audioFile}\r\n            loop={false}\r\n            style={{ display: \"none\" }}\r\n          />\r\n        )}\r\n        \r\n        <div className=\"w-full max-w-lg flex flex-col\" style={{ maxHeight: '100vh' }}>\r\n          <Card className=\"border-green-400 border-2 flex-1 flex flex-col\">\r\n            <CardContent className=\"p-3 sm:p-4 flex flex-col h-full\">\r\n              {/* Combined terminal content - all inside the card */}\r\n              <div \r\n                className=\"terminal overflow-y-auto flex-1 terminal-flicker\" \r\n                ref={terminalRef}\r\n                style={{ \r\n                  fontSize: \"11px\",\r\n                  minHeight: \"200px\"\r\n                }}\r\n              >\r\n                {/* Init text now inside the terminal */}\r\n                {initText && (\r\n                  <div className=\"text-green-400 font-mono whitespace-pre-wrap mb-2\">\r\n                    {initText}\r\n                    {isTyping && !initComplete && <span className=\"blinking-cursor\">▌</span>}\r\n                  </div>\r\n                )}\r\n                \r\n                <div style={{ whiteSpace: \"pre-wrap\" }}>\r\n                  {displayedText}\r\n                  {isTyping && initComplete && <span className=\"blinking-cursor\">▌</span>}\r\n                </div>\r\n                \r\n                {/* Render wanted board with better mobile layout */}\r\n                {textComplete && pageData.showImage && renderWantedBoard()}\r\n                \r\n                {/* Visible audio controls (only shown when not auto-playing) */}\r\n                {pageData.audioFile && textComplete && !pageData.autoPlayAudio && (\r\n                  <audio\r\n                    controls\r\n                    className=\"w-full mt-4\"\r\n                    style={{\r\n                      backgroundColor: \"black\",\r\n                      border: \"1px solid #33ff33\",\r\n                      borderRadius: \"5px\"\r\n                    }}\r\n                  >\r\n                    <source src={pageData.audioFile} type=\"audio/mp3\" />\r\n                    Your browser does not support the audio element.\r\n                  </audio>\r\n                )}\r\n              </div>\r\n              \r\n              {/* Button section */}\r\n              <div className=\"mt-3 flex flex-col sm:flex-row justify-between items-center gap-2\">\r\n                <Button \r\n                  onClick={() => {\r\n                    AudioManager.playEffect('keypress', 0.2);\r\n                    navigate(\"/\");\r\n                  }}\r\n                  className=\"w-full sm:w-auto text-xs\"\r\n                >\r\n                  RETURN TO MAIN TERMINAL\r\n                </Button>\r\n                {/* Mobile-friendly touch prompt */}\r\n                <div className=\"text-green-400 text-xs text-center sm:text-right\">\r\n                  {isTyping ? (\r\n                    <span onClick={completeTyping} className=\"cursor-pointer\">\r\n                      Tap to skip typing\r\n                    </span>\r\n                  ) : (\r\n                    <span>Tap button to return</span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    )\r\n  };"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,IAAI,EAAEC,WAAW,QAAQ,YAAY;AAC9C,SAASC,MAAM,QAAQ,cAAc;AACrC,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,YAAY,MAAM,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjD,MAAMC,QAAQ,GAAGA,CAACC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,GAAG,IAAI,EAAEC,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,KAAK;EAC3E,IAAID,KAAK,GAAGH,IAAI,CAACK,MAAM,EAAE;IACvBJ,QAAQ,CAACK,IAAI,IAAIA,IAAI,GAAGN,IAAI,CAACG,KAAK,CAAC,CAAC;IACpCI,UAAU,CAAC,MAAMR,QAAQ,CAACC,IAAI,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,KAAK,GAAG,CAAC,EAAEC,KAAK,CAAC,EAAEA,KAAK,CAAC;EAC/E,CAAC,MAAM;IACL,IAAIF,QAAQ,EAAEA,QAAQ,CAAC,CAAC;EAC1B;AACF,CAAC;;AAED;AACA,MAAMM,WAAW,GAAG;EAClB,cAAc,EAAE;IACdC,KAAK,EAAE,6BAA6B;IACpCC,OAAO,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0IAA0I;IACtIC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,KAAK;IAChBC,aAAa,EAAE,KAAK;IACpBC,WAAW,EAAE;EACf,CAAC;EACD,eAAe,EAAE;IACfL,KAAK,EAAE,6BAA6B;IACpCC,OAAO,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2GAA2G;IACvGC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,KAAK;IAChBC,aAAa,EAAE,KAAK;IACpBC,WAAW,EAAE;EACf,CAAC;EACD,WAAW,EAAE;IACXL,KAAK,EAAE,6BAA6B;IACpCC,OAAO,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oNAAoN;IAChNC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,KAAK;IAChBC,aAAa,EAAE,KAAK;IACpBC,WAAW,EAAE;EACf,CAAC;EACD,SAAS,EAAE;IACTL,KAAK,EAAE,wCAAwC;IAC/CC,OAAO,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+HAA+H;IAC3HC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,KAAK;IAChBC,aAAa,EAAE,KAAK;IACpBC,WAAW,EAAE;EACf,CAAC;EACD,QAAQ,EAAE;IACRL,KAAK,EAAE,4CAA4C;IACnDC,OAAO,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;IACjBC,SAAS,EAAE,yBAAyB;IACpCC,SAAS,EAAE,KAAK;IAChBC,aAAa,EAAE,IAAI;IACnBC,WAAW,EAAE;EACf,CAAC;EACD,aAAa,EAAE;IACbL,KAAK,EAAE,wBAAwB;IAC/BC,OAAO,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;IACvCC,SAAS,EAAE,IAAI;IACfC,SAAS,EAAE,IAAI;IACfC,aAAa,EAAE,KAAK;IACpBC,WAAW,EAAE,QAAQ;IACrBC,YAAY,EAAE;MACZ,OAAO,EAAE,0BAA0B;MACnC,YAAY,EAAE,2BAA2B;MACzC,MAAM,EAAE,yBAAyB;MACjC,SAAS,EAAE;IACb,CAAC;IACDC,UAAU,EAAE;MACV,OAAO,EAAE;QACPC,OAAO,EAAE,OAAO;QAChBC,WAAW,EAAE,4EAA4E;QACzFC,MAAM,EAAE,gFAAgF;QACxFC,MAAM,EAAE,MAAM;QACdC,OA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}